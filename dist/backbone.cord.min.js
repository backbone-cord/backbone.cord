!function(e){"use strict";function t(e){return e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype}function i(e){var n,r,s={};for(n in e)e.hasOwnProperty(n)&&(r=e[n],t(r)&&(r=i(r)),s[n]=r);return s}function n(e,t){var i,n;for(t=Array.isArray(t)?t:t.split("."),i=0;i<t.length;++i)n=t[i],e instanceof V?(E._scopes[n.toLowerCase()]&&i+1<t.length&&(i+=1,n=n+"."+t[i]),e=e.getValueForKey(n)):e instanceof O.Model?e="id"===n?e.id:e.get(n):e&&(e="value"===n&&e.nodeType===Node.ELEMENT_NODE?E.decodeValue(e):e[n]);return e}function r(e,t,i){var r;t=Array.isArray(t)?t:t.split("."),e=n(e,t.slice(0,-1)),r=t[t.length-1],e instanceof V?e.setValueForKey(r,i):e instanceof O.Model?e.set("id"===r?e.idAttribute:r,i):e&&("value"===r&&e.nodeType===Node.ELEMENT_NODE?E.encodeValue(e,i):e[r]=i)}function s(e,t){return function(){return e.apply(this,arguments),t.apply(this,arguments)}}function o(e,t){return function(){var i=e.apply(this,arguments),n=Object.getPrototypeOf(Object.getPrototypeOf(this));return n&&n[t]?n[t].apply(this,arguments):i||this}}function l(e){var n,r,o,a,c;for("string"==typeof e&&(e=E.mixins[e]||{}),e=i(e),n=1;n<arguments.length;++n){a=arguments[n],"string"==typeof a&&(a=E.mixins[a]||{});for(r in a)a.hasOwnProperty(r)&&(o=e[r],c=a[r],t(o)&&t(c)?e[r]=l(o,c):"function"==typeof o&&"function"==typeof c?e[r]=s(o,c):e[r]=c)}return e}function a(){var e,t,i=l.apply(this,arguments),n=arguments[arguments.length-1];"string"==typeof n&&(n=E.mixins[n]||{});for(e in i)i.hasOwnProperty(e)&&(t=i[e],"function"==typeof t&&"function"!=typeof n[e]&&(i[e]=o(t,e)));return i}function c(e,t,i){for(var n=i?e.prototype:Object.getPrototypeOf(e),r=[];n;n=Object.getPrototypeOf(n))n.hasOwnProperty(t)&&r.unshift(n[t]);return r}function u(e,t){var i=E._callbacks[e],n=Array.prototype.slice.call(arguments,1);delete t[e];for(var r=0;r<i.length;++r)t[e]=i[r].apply(this,n)||t[e];return t[e]}function h(e,n){if(E._viewContext&&this!==E._viewContext)return h.apply(E._viewContext,arguments);if("string"!=typeof e){var r=e;if("function"!=typeof r||r.prototype instanceof O.View)return f.apply(this,arguments).el;var s=Array.prototype.slice.call(arguments,1);return s[0]?t(s[0])?s[0]=i(s[0]):s.unshift({}):s[0]={},s[0].children=s.length>2?s.slice(1):s[1],E.config.prefixCreateElement&&s.unshift(this._createElement),r.apply(this,s)}e=e.split(".");var o={isView:this instanceof V},l=e[0].split("#"),a=l[0]||"div",c=o.el=this._callPlugins("tag",o,a)||document.createElement(a),u=o.id=l[1]||n&&n.id;u&&E.setId(c,u,this.vuid);var p=e.slice(1);if(!p.length&&n&&n.className&&(p=n.className.split(" ")),E.addClass(c,this._callPlugins("classes",o,p)||p),arguments.length>1){var d=1;if(!("string"==typeof n||n instanceof O.View||n instanceof Node)){d=2,n=i(n),delete n.id,delete n.className,n.htmlFor&&(n["for"]=n.htmlFor,delete n.htmlFor),n=this._callPlugins("attrs",o,n)||n;for(var g in n)n.hasOwnProperty(g)&&c.setAttribute(g,n[g])}var y,m=Array.prototype.slice.call(arguments,d);for(Array.isArray(m[0])&&(m=m[0]),m=this._callPlugins("children",o,m)||m,d=0;d<m.length;++d)y=m[d],"string"==typeof y?c.appendChild(document.createTextNode(y)):y instanceof O.View?c.appendChild(y.el):c.appendChild(y)}return E.config.idProperties&&o.isView&&u&&E.regex.testIdProperty(u)&&Object.defineProperty(this,u,{get:function(){return this.getChildById(u)},enumerable:!0,configurable:!1}),this._callPlugins("complete",o)||c}function f(e,t,n){var r,s,o,l,a;if(o=e instanceof O.View?e:new e,this.model!==E.EmptyModel&&o.model===E.EmptyModel&&!o.collection&&o instanceof V&&(o.cascade&&o.cascade(this.model)===!1||o.setModel(this.model)),l={el:o.el,isView:this instanceof V,subview:o},!l.isView)throw new Error("Attempting to create a subview without a parent.");if(t){r=l.id=t.id,r&&!E.hasId(o.el)&&E.setId(o.el,r,this.vuid),t.className&&(s=t.className.split(" "),E.addClass(o.el,this._callPlugins("classes",l,s)||s)),t=i(t),delete t.id,delete t.className,t=this._callPlugins("bindings",l,t)||t;for(var c in t)t.hasOwnProperty(c)&&(a="string"==typeof t[c]?this[t[c]]||x(t[c]):t[c],"function"==typeof a&&(o.properties&&o.properties.hasOwnProperty(c)?o.observe(c,a.bind(this)):this.listenTo(o,c,a)))}return n&&o.setValuesForKeys(n),o.sid=E._sid,E._sid+=1,o.el.setAttribute("data-sid",o.sid),this.subviews[o.sid]=o,this.listenToOnce(o,"remove",function(e){this.stopListening(e),delete this.subviews[e.sid]}),E.config.idProperties&&l.isView&&r&&E.regex.testIdProperty(r)&&Object.defineProperty(this,r,{get:function(){return this.getSubviewById(r)},set:function(e){var t,i;if(!(e instanceof O.View))throw new Error("Attempting to assign a non-Backbone.View to a subview.");t=e.el,i=this.getSubviewById(r),i.el.parentNode.replaceChild(t,i.el),i.remove(),e.sid||this.createSubview(e),E.hasId(t)?r!==E.getId(t)&&delete this[r]:E.setId(t,r,this.vuid)},enumerable:!0,configurable:!0}),this._callPlugins("complete",l),o}function p(e){return document.createTextNode(e)}function d(e,t){"function"==typeof e?e=e.prototype instanceof O.View?(new e).el:e():e instanceof O.View?e=e.el:"string"==typeof e?e=this.createText(e):e instanceof Node||(e=this.createElement(e)),"string"==typeof t&&(t=document.querySelector(t)),t.appendChild(e)}function g(e,t,i){e!==t&&("string"==typeof i&&(i=document.querySelector(i)),e&&(e instanceof O.View?e.remove():i.removeChild(e)),this.render(t,i))}function y(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function m(e){var t=e+"Search",i=e+"Value";return e="_"+e,{get:function(){return this[e]},set:function(n){this[e]=n,this[t]=new RegExp(y(n.prefix)+".*?"+y(n.suffix),"g"),this[i]=new RegExp(y(n.prefix)+"\\s*(.*?)\\s*"+y(n.suffix))}}}function b(e,t){var i=function(i){this["_"+e]!==i&&(t?t.call(this,i):this["_"+e]=i,this._invokeObservers("this",e,this[e]))};return i._cordWrapped=!0,i._prevSet=t,i}function v(e,t){return function(i,n){for(var r=0;r<t.length;++r)n=t[r](n);return e.call(this,i,n)}}function w(e){return function(t,i){e.call(this,t,!E.convertToBool(i))}}function _(e,t){return function(i,r){return e.call(this,i,n(r,t))}}function x(e){return function(){this.setValueForKey(e,arguments[arguments.length-1])}}var O=e.Backbone||require("backbone"),C=e.cordCompatibilityMode,P=e.cordDebug,V=C?O.View.extend({}):O.View,A=C?O.Model.extend({}):O.Model,S=C?O.Collection.extend({}):O.Collection,E=O.Cord={VERSION:"1.0.21",config:{idProperties:!0,prefixCreateElement:!1},regex:{idPropertyTest:/^[a-zA-Z_$][0-9a-zA-Z_$]*$/,idSelectorValues:/#([a-zA-Z_$][0-9a-zA-Z_$]*)/g},plugins:[],filters:{lower:function(e){return e.toLowerCase()},upper:function(e){return e.toUpperCase()},title:function(e){return e.replace(/\b[^\s-]*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}},decoders:{range:function(e){return parseInt(e.value)},number:function(e){return Number(e.value)},"int":function(e){return parseInt(e.value)},integer:function(e){return parseInt(e.value)},"float":function(e){return parseFloat(e.value)},decimal:function(e){return parseFloat(e.value)},date:function(e){return new Date(e.value)},datetime:function(e){return new Date(e.value)},bool:function(e){return e.checked},checkbox:function(e){return e.checked}},encoders:{date:function(e,t){e.value=t.toDateString()},datetime:function(e,t){e.value=t.toString()},bool:function(e,t){e.checked=E.convertToBool(t)},checkbox:function(e,t){e.checked=E.convertToBool(t)}},decodeValue:function(e){var t=E.decoders[e.getAttribute("data-type")||e.getAttribute("type")];return e.hasAttribute("data-null")&&!e.value?null:t?t(e):e.value},encodeValue:function(e,t){var i=E.encoders[e.getAttribute("data-type")||e.getAttribute("type")];i?i(e,t):e.value=E.convertToString(t);var n=document.createEvent("HTMLEvents");n.initEvent("change",!0,!0),e.dispatchEvent(n)},mixins:{},convertToString:function(e){return null===e||void 0===e?"":e.toString()},convertToBool:function(e){return!(!e||void 0!==e.length&&!e.length)},convertToNumber:function(e){return Number(e)||0},randomUID:function(){return(Math.floor(65536*(1+Math.random()))^Date.now()%65536).toString(16).substr(1)},randomGUID:function(){var e=E.randomUID;return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},randomCode:function(e){var t="";for(e=e||12;t.length<e;)t+=E.randomUID();return t.substr(0,e)},setImmediate:(e.requestAnimationFrame||e.setTimeout).bind(e),clearImmediate:(e.cancelAnimationFrame||e.clearTimeout).bind(e),ForceValue:function(e){this.value=e},View:V,Model:A,Collection:S,EmptyView:V.extend({tagName:"meta"}),EmptyModel:new(A.extend({set:function(){return this},toString:function(){return""}})),EmptyCollection:new(S.extend({add:function(){return this},reset:function(){return this},set:function(){return this},toString:function(){return""}})),_sid:1,_pluginsChecked:!1,_scopes:{},_callbacks:{tag:[],classes:[],attrs:[],children:[],bindings:[],complete:[],extend:[],create:[],initialize:[],remove:[]}};E.isPlainObj=t,E.copyObj=i,E.mixObj=l,E.mixProto=a,E.getPrototypeValuesForKey=c,E.log=P?function(){for(var e=[],t=Array.prototype.slice.call(arguments),i=0;i<t.length;++i)e.push("object"==typeof t[i]?"%O":"%s");t.unshift(e.join(" | ")),console.log.apply(console,t)}:function(){},E.h=E.createElement=h.bind(E),E.createText=p.bind(E),E.render=d.bind(E),E.replace=g.bind(E),E._callPlugins=u,E.parseKeyPath=function(e){var t;return e=e.replace(/__/g,"."),t=e.split("."),1!==t.length&&E._scopes[t[0].toLowerCase()]?t[0]=t[0].toLowerCase():t.unshift("this"),t},E.hasId=function(e){return!!e.getAttribute("data-id")},E.getId=function(e){return e.getAttribute("data-id").split("-")[0]},E.setId=function(e,t,i){e.setAttribute("data-id",t+(i?"-"+i:""))},E.hasClass=function(e,t){return(e.getAttribute("class")||"").split(" ").indexOf(t)!==-1},E.addClass=function(e,t){Array.isArray(t)||(t=t.split(" "));for(var i=0;i<t.length;++i)E.hasClass(e,t[i])||e.setAttribute("class",((e.getAttribute("class")||"")+" "+t[i]).trim())},E.removeClass=function(e,t){var i,n=(e.getAttribute("class")||"").split(" ");for(Array.isArray(t)||(t=t.split(" ")),i=n.length-1;i>=0;--i)t.indexOf(n[i])!==-1&&n.splice(i,1);e.setAttribute("class",n.join(" "))},E.regex.replaceIdSelectors=function(e,t){return e.replace(this.idSelectorValues,'[data-id="$1'+(t?"-"+t:"")+'"]')},E.regex.testIdProperty=function(e,t){var i=this.idPropertyTest.test(e);if(!i&&!t)throw new Error('Invalid id "'+e+'" used');return i},Object.defineProperties(E.regex,{variable:m("variable"),conditional:m("conditional")}),E.regex.variable={prefix:"[",suffix:"]"},E.regex.conditional={prefix:"(",suffix:")"},E.plugins._check=function(){var e,t,i,n={};for(e=0;e<this.length;++e)n[this[e].name]=!0;for(e=0;e<this.length;++e)if(i=this[e],i.requirements)for(t=0;t<i.requirements.length;++t)if(!n[i.requirements[t]])throw new Error('Cord plugin "'+i.name+'" requires missing plugin "'+i.requirements[t]+'"')},E.plugins._register=function(e,t){if(e.config)for(var i in e.config)e.config.hasOwnProperty(i)&&!E.config.hasOwnProperty(i)&&(E.config[i]=e.config[i]);for(var n in E._callbacks)E._callbacks.hasOwnProperty(n)&&"function"==typeof e[n]&&t.call(E._callbacks[n],e[n]);return e.scope&&(E._scopes[e.scope.namespace.toLowerCase()]=e.scope),t.call(this,e)},E.plugins.unshift=function(e){return this._register(e,Array.prototype.unshift)},E.plugins.push=function(e){return this._register(e,Array.prototype.push)},V.prototype.createElement=h,V.prototype.createSubview=f,V.prototype.createText=p,V.prototype._callPlugins=u,E._scopes["this"]={observe:function(e){var t=Object.getOwnPropertyDescriptor(this,e);t&&(t.set._cordWrapped||(t.set?Object.defineProperty(this,e,{set:b(e,t.set)}):(this["_"+e]=this[e],delete this[e]&&Object.defineProperty(this,e,{get:this._synthesizeGetter(e),set:b(e),enumerable:!0,configurable:!0}))))},unobserve:function(e){if(!this._hasObservers("this",e)){var t=Object.getOwnPropertyDescriptor(this,e);if(t.set._prevSet)Object.defineProperty(this,e,{set:t.set._prevSet});else{var i=this[e];delete this[e],this[e]=i}}},getValue:function(e){return this[e]},setValue:function(e,t){this[e]=t}},V.prototype._synthesizeGetter=function(e){return e="_"+e,function(){return this[e]}},V.prototype._synthesizeSetter=function(e){return e="_"+e,function(t){this[e]=t}},V.prototype._synthesizeReadonlySetter=function(e){return e="_"+e,function(t){if("object"!=typeof t||Object.getPrototypeOf(t)!==E.ForceValue.prototype)throw new Error("Attempting to assign a readonly property.");this[e]=t.value}},V.prototype._synthesizeProperty=function(e,i){var n=null,r=!1,s={configurable:!0,enumerable:!0};"function"==typeof i?s.get=i:t(i)?(n=i.value,r=i.readonly,s.get=i.get,s.set=i.set):n=i,s.get=s.get||this._synthesizeGetter(e),s.set=null===s.set||r?this._synthesizeReadonlySetter(e):s.set||this._synthesizeSetter(e),Object.defineProperty(this,e,s),Object.defineProperty(this,"_"+e,{configurable:!1,enumerable:!1,value:n,writable:!0})},V.prototype._getObservers=function(e,t,i){var n;return null===this._observers?t?[]:{}:(e=e.toLowerCase(),n=this._observers[e],n||(n={},i&&(this._observers[e]=n)),t&&(n=n[t]?n[t]:i?n[t]=[]:[]),n)},V.prototype._hasObservers=function(e,t){var i=this._getObservers(e,t);return Array.isArray(i)?!!i.length:!!Object.keys(i).length},V.prototype._addObserver=function(e,t,i){var n=this._getObservers(e,t,!0);n.push(i)},V.prototype._removeObserver=function(e,t,i){var n=this._getObservers(e);if(n[t]){var r=n[t].indexOf(i);r!==-1&&(n[t].splice(r,1),n[t].length||delete n[t])}},V.prototype._invokeObservers=function(e,t,i){E.log(e,t,i);var n,r=this._getObservers(e,t);for(n=0;n<r.length;++n)r[n].call(this,t,i);return this},V.prototype.observe=function(e,t,i){var n,r,s;if("string"==typeof t&&(t=this[t]||x(t)),"function"!=typeof t)return this;if("!"===e[0]&&(e=e.substr(1),t=w(t)),e.indexOf("|")!==-1){var o,l=[],a=e.split("|");for(e=a[0].trim(),o=1;o<a.length;++o)l.push(E.filters[a[o].trim()]||Math[a[o].trim()]);t=v(t,l)}return"%"===e[0]?(e=e.substr(1),t.call(this,null,this.getValueForKey.call(this,e)),this):(n=E.parseKeyPath(e),r=n[0],e=n[1],s=E._scopes[r],n.length>2&&(t=_(t,n.slice(2))),s.observe.call(this,e,t,i),this._addObserver(r,e,t),i&&t.call(this,e,s.getValue.call(this,e)),this)},V.prototype.unobserve=function(e,t){var i,n,r;return"string"==typeof t&&(t=this[t]),t?(i=E.parseKeyPath(e),n=i[0],e=i[1],r=E._scopes[n],this._removeObserver(n,e,t),r.unobserve.call(this,e,t),this):this},V.prototype.getValueForKey=function(e){var t,i,r;return t=E.parseKeyPath(e),i=E._scopes[t[0]],r=i.getValue.call(this,t[1]),t.length>2&&(r=n(r,t.slice(2))),r},V.prototype.setValueForKey=function(e,t){var i,n;return i=E.parseKeyPath(e),n=E._scopes[i[0]],i.length>2?r(n.getValue.call(this,i[1]),i.slice(2),t):n.setValue.call(this,i[1],t),this},V.prototype.setValuesForKeys=function(e){var i,n;if(t(e))for(n in e)e.hasOwnProperty(n)&&this.setValueForKey(n,e[n]);else for(i=0;i+1<arguments.length;i+=2)this.setValueForKey(arguments[i],arguments[i+1]);return this},V.prototype.getChildById=function(e){return this.el.querySelector('[data-id="'+e+"-"+this.vuid+'"]')},V.prototype.getSubviewById=function(e){var t=this.getChildById(e);if(t)return this.subviews[t.getAttribute("data-sid")]},E._scopes.model={observe:function(e,t){"id"===e&&this._addObserver("model",this.model.idAttribute,t)},unobserve:function(e,t){"id"===e&&this._removeObserver("model",this.model.idAttribute,t)},getValue:function(e){return"id"===e?this.model.id:this.model.get(e)},setValue:function(e,t){"id"===e&&(e=this.model.idAttribute),this.model.set(e,t)}},V.prototype._modelObserver=function(e,t){var i,n=t._changed||e.changedAttributes();if(n)for(i in n)n.hasOwnProperty(i)&&this._invokeObservers("model",i,n[i])},V.prototype.model=E.EmptyModel,V.prototype.setModel=function(e,t){var i,n,r,s;if(this.model===e)return this;if(e||(e=E.EmptyModel),!(e instanceof O.Model))throw new Error("Attempting to assign a non-Backbone.Model to View.model.");if(n=this.model,this.model=e,this.stopListening(n),this.listenTo(this.model,"change",this._modelObserver),s=this._getObservers("model"),Object.keys(s).length)if(this.model===E.EmptyModel)for(i in s)s.hasOwnProperty(i)&&this._invokeObservers("model",i,void 0);else this._modelObserver(this.model,{_changed:n.changedAttributes(this.model.attributes)});if(!t)for(i in this.subviews)if(this.subviews.hasOwnProperty(i)){if(r=this.subviews[i],!(r instanceof V))continue;if(r.cascade&&r.cascade(e)===!1)continue;r.model!==n||r.collection||r.setModel(e)}return this},V.prototype.setCollection=function(e){if(this.collection===e)return this;if(e||(e=E.EmptyCollection),!(e instanceof O.Collection))throw new Error("Attempting to assign a non-Backbone.Collection to View.collection.");return this.stopListening(this.collection),this.collection=e,this};var j=V.extend;V.extend=function(e,t){if(e=e||{},t=t||{},e.mixins){var i=e.mixins;delete e.mixins,i.push(e),e=a.apply(E,i)}e.vuid=e.vuid||E.randomUID()+E.randomUID(),u.call(this,"extend",{protoProps:e,staticProps:t});var n,r,s=e.events;if(s)for(n in s)s.hasOwnProperty(n)&&n.indexOf("#")!==-1&&(r=s[n],delete s[n],n=E.regex.replaceIdSelectors(n,e.vuid),s[n]=r);return this.prototype.events&&e.events&&(e.events=l(this.prototype.events,e.events)),this.prototype.properties&&e.properties&&(e.properties=l(this.prototype.properties,e.properties)),this.prototype.observers&&e.observers&&(e.observers=l(this.prototype.observers,e.observers)),j.call(this,e,t)};var I=V.prototype._ensureElement;V.prototype._ensureElement=function(){E._pluginsChecked||(E.plugins._check(),E._pluginsChecked=!0);var e=Object.getPrototypeOf(this);"function"==typeof e.collection?this.collection=new e.collection:"function"==typeof e.model&&(this.model=new e.model),this.subviews={},this._observers={},this._callPlugins("create",{});var t;if(this.properties){var i=this.properties;for(t in i)i.hasOwnProperty(t)&&this._synthesizeProperty(t,i[t])}this._createElement=this.createElement.bind(this),"function"==typeof this.el&&E.config.prefixCreateElement&&(this.el=this.el.bind(this,this._createElement)),this.model!==E.EmptyModel&&this.listenTo(this.model,"change",this._modelObserver);var n,r=E._viewContext;E._viewContext=this;try{n=I.apply(this,arguments)}finally{E._viewContext=r}if(E.addClass(this.el,c(this,"className").join(" ")),this.el.setAttribute("data-vuid",this.vuid),this._callPlugins("initialize",{}),this.observers){var s=this.observers;for(t in s)s.hasOwnProperty(t)&&this.observe(t,s[t],!1)}return n};var T=V.prototype.remove;V.prototype.remove=function(){var e;this._callPlugins("remove",{});for(e in this.subviews)this.subviews.hasOwnProperty(e)&&this.subviews[e].remove();return this.subviews=null,this._observers=null,this.trigger("remove",this),T.apply(this,arguments)},"object"==typeof exports&&(module.exports=E)}("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global),function(e){"use strict";var t=e.Cord,i=t.mixObj,n=/(\(\?)?:\w+/g,r=/\*\w+/g,s=/\w+/g;t.Router=e.Router.extend({route:function(t,i,o){var l,a,c,u=t.split("/"),h=this.key,f={},p={};for(l=0;l<u.length;++l)c=u[l],c.length&&(a=c.match(n)||c.match(r),a?p[l]=a[0].substr(1):(a=c.match(s),a&&(f[h]=a[0],h="sub"+h)));return"function"==typeof i&&(o=i,i=""),e.Router.prototype.route.call(this,t,i,this.wrapCallback(i,o,f,p))},wrapCallback:function(e,n,r,s){return function(){var o,l={},a=t.UnmanagedScopes.route,c=Object.keys(a.attributes);for(o=0;o<c.length;++o)l[c[o]]=null;for(l.name=e||"",o=0;o<arguments.length;++o)null!==arguments[o]&&(l[s[o]]=arguments[o]);if(l=i(l,r),a.set(l),n)return n.apply(this,arguments)}}}),t.plugins.push({name:"router",requirements:["unmanagedscopes"]})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";var t=e.Cord,i=t.ForceValue;t.mixins.collection={collection:t.EmptyCollection,properties:{length:{readonly:!0,value:0},start:function(e,t,i){var n=0;return t>0&&(n=t),n>e&&(n=e),i||(n=0),n},end:function(e,t,i,n){var r=t-1;return n>0&&(r=e+n-1),r>=t&&(r=t-1),n||(r=-1),r},more:function(e,t){return t-(e+1)},pageStart:{set:function(e){this._pageStart=e,this._onResetCollection()},value:0},pageLength:{set:function(e){this._pageLength=e,this._onResetCollection()},value:-1},selected:{set:function(e){var t;this._selected!==e&&(this._selected=e,this.setModel(e),this.trigger("select",e),t=this.itemViews._selected,t&&(t.selected=!1),e?(t=this.itemViews[e.cid],this.itemViews._selected=t,t.selected=!0):delete this.itemViews._selected)},value:null}},initialize:function(){this.setCollection(this.collection,!0)},remove:function(){this._removeAllItems()},setCollection:function(e,i){(this.collection!==e||i)&&(e&&(this.listenTo(e,"add",this._onAddItem),this.listenTo(e,"remove",this._onRemoveItem),this.listenTo(e,"sort",this._onSortCollection),this.listenTo(e,"reset",this._onResetCollection)),t.setImmediate(this._onResetCollection.bind(this)))},getCollectionContainer:function(){return this.getChildById(t.config.collectionContainerId)||this.el},createItemView:function(e){var t=new this.itemView({model:e});if(t.sid)throw new Error("Item views cannot be passed or created through the subview() method.");return this.listenTo(t,"select",function(e){this.selected=e.model}),this.listenTo(t,"remove",function(e){this.collection.remove(e.model,{viewRemoved:!0})}),this.itemViews[t.model.cid]=t,t},getItemView:function(e){var t,i;if(i=e.cid,"number"==typeof e){var n=this.collection.at(e);n&&(i=n.cid)}else if(e.nodeType===Node.ELEMENT_NODE)for(t in this.itemViews)if(this.itemViews.hasOwnProperty(t)&&this.itemViews[t].el===e){i=t;break}return i?this.itemViews[i]:void 0},_removeAllItems:function(){var e,t;if(this.itemViews){delete this.itemViews._first,delete this.itemViews._selected;for(e in this.itemViews)this.itemViews.hasOwnProperty(e)&&(t=this.itemViews[e],this.stopListening(t),t.remove())}this.itemViews={},this.selected=null},_onAddItem:function(e,t,n){var r,s,o,l;this.length=new i(t.length),s=this.getCollectionContainer(),s&&(l=void 0===n.index?this._length-1:n.index,l<this._start||l>this._end||(l-=this._start,this._end-this._start+1===this._pageLength&&s.removeChild(s.lastChild),r=this.createItemView(e),l===this._end?s.appendChild(r.el):(o=this.itemViews[t.at(this._start+l+1).cid].el,o.parentNode.insertBefore(r.el,o)),0===l&&(this.itemViews._first=r)))},_onRemoveItem:function(e,t,n){var r,s,o=this._more;this.length=new i(t.length),s=this.getCollectionContainer(),s&&(this._selected===e&&(this.selected=null),r=this.itemViews[e.cid],r&&(delete this.itemViews[e.cid],this.stopListening(r),n.viewRemoved||r.remove(),n.index>=this._start&&n.index<=this._end&&o&&(r=this.createItemView(t.at(this._end)),s.appendChild(r.el)),t.length?this.itemViews._first=this.itemViews[t.at(this._start).cid]:delete this.itemViews._first))},_onSortCollection:function(){var e,t,i,n,r,s;if(s=this.getCollectionContainer(),s&&this._length)if(0===this._start&&this._end===this._length-1){for(r=this.itemViews._first.el,e=0;e<this._length;++e)i=this.collection.at(e),n=this.itemViews[i.cid],s.insertBefore(n.el,r),r=n.el.nextSibling;this.itemViews._first=this.itemViews[this.collection.at(0).cid]}else{var o={},l=Object.keys(this.itemViews);for(e=0;e<l.length;++e)o[l[e]]=!0;for(o._first=!1,o._selected=!1,e=this._start;e<=this._end;++e)t=this.collection.at(e).cid,this.itemViews[t]?o[t]=!1:this.itemViews[t]=this.createItemView(this.collection.at(e));for(t in o)o.hasOwnProperty(t)&&o[t]&&(n=this.itemViews[t],this._selected===n.model&&(this.selected=null),delete this.itemViews[t],this.stopListening(n),n.remove());for(e=this._start;e<=this._end;++e)n=this.itemViews[this.collection.at(e).cid],s.appendChild(n.el);this.itemViews._first=this.itemViews[this.collection.at(this._start).cid]}},_onResetCollection:function(){var e,t,n,r;if(this._removeAllItems(),this.length=new i(this.collection.length),r=this.getCollectionContainer(),r&&this._length){for(n=document.createDocumentFragment(),e=this._start;e<=this._end;++e)t=this.createItemView(this.collection.at(e)),e===this._start&&(this.itemViews._first=t),n.appendChild(t.el);r.appendChild(n)}}},t.plugins.push({name:"collection",requirements:["computed"],config:{collectionContainerId:"itemContainer"}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e){this.listenTo(e,"request",function(){this.syncProgress=new l(0),this.syncing=new l((!0)),this.syncError=new l(null)}),this.listenTo(e,"sync",function(){this.syncProgress=new l(1),this.syncing=new l((!1)),this.syncError=new l(null)}),this.listenTo(e,"error",function(e,t,i){this.syncProgress=new l(1),this.syncing=new l((!1)),this.syncError=new l(r.parseError(t,i))})}function i(e){e.lengthComputable&&(this.syncProgress=new l(e.loaded/e.total))}function n(n,r,s){this.__syncListening||(this.__syncListening=!0,t.call(this,this));var o=s.xhr||e.$.ajaxSettings&&e.$.ajaxSettings.xhr||function(){return new window.XMLHttpRequest},l=i.bind(this);s.xhr=function(){var e=o();return e.addEventListener("progress",l),e.upload.addEventListener("progress",l),e}}var r=e.Cord,s=r.Model,o=r.Collection,l=r.ForceValue;r.parseError=r.parseError||function(e){return e.status};var a=s.prototype.sync;s.prototype.sync=function(){return n.apply(this,arguments),a.apply(this,arguments)};var c=o.prototype.sync;o.prototype.sync=function(){return n.apply(this,arguments),c.apply(this,arguments)},r.mixins.syncing={properties:{syncing:{value:!1,readonly:!0},syncProgress:{value:0,readonly:!0},syncError:{value:null,readonly:!0}},_initSyncingProperties:function(e){e&&(this.syncing=new l(e.syncing),this.syncProgress=new l(e.syncProgress),this.syncError=new l(e.syncError),t.call(this,e))},setModel:function(e){this._initSyncingProperties(e)},setCollection:function(e){this._initSyncingProperties(e)}}}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";var t=e.Cord,i=t.Model,n=t.EmptyModel,r=t.ForceValue,s={url:/^(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i,ip:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,slug:/^[a-z0-9-]+$/i,username:/^[a-z0-9_@\-\+\.]{3,150}$/i,color:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i};t.validate=function(e,t){var n,r,o,l=t.type.split(" ")[0];if(null===e||""===e&&"string"===t.type)return!t.required||"required";if("string"===l&&"string"!=typeof e||"date"===l&&!(e instanceof Date)||"int"===l&&(+e!==e||e%1!==0)||"float"===l&&"number"!=typeof e||"bool"===l&&"boolean"!=typeof e||"array"===l&&!Array.isArray(e)||"model"===l&&!(e instanceof i))return"type";if(null!==t.equals&&void 0!==t.equals){if(Array.isArray(t.equals)){if(t.equals.indexOf(e)===-1)return"equals"}else if("object"==typeof t.equals){if(void 0===t.equals[e])return"equals"}else if(e!==t.equals)return"equals"}else if("string"===t.type){if(t.min&&e.length<t.min)return"min";if(t.max&&e.length>t.max)return"max";if(t.format)for(o=Array.isArray(t.format)?t.format:[t.format],n=0;n<o.length;++n)if(r=o[n],"string"==typeof r&&(r=s[r]),"function"==typeof r&&!r(e)||r instanceof RegExp&&!r.test(e))return"format"}else{if(t.min&&e<t.min)return"min";if(t.max&&e>t.max)return"max"}return!0},t.parseValidationError=function(e,t,i,n){var r="string"===t.type?"The length of ":"",s="string"===t.type?" characters":"";switch(i){case"required":return n+" is required";case"min":return r+n+" must be greater than or equal to "+t.min+s;case"max":return r+n+" must be less than or equal to "+t.max+s;default:return n+" is not valid"}},t.mixins.validation={errors:n,properties:{allErrors:{readonly:!0},latestError:{readonly:!0},isValid:function(e){return!e||!e.length}},initialize:function(){this.errors=new i,this.listenTo(this.errors,"change",function(e){var t,i=e.changedAttributes();if(i)for(t in i)i.hasOwnProperty(t)&&this._invokeObservers("errors",t,i[t])}),this._addInvalidListener(this.model)},setModel:function(e){this._addInvalidListener(e)},_addInvalidListener:function(e){e!==n&&this.listenTo(e,"invalid",this._onInvalid)},_onInvalid:function(e,i){var n,s,o,l,a;for(n in i)i.hasOwnProperty(n)&&(l="format"===i[n]&&this.model.instructions&&this.model.instructions[n]?this.model.instructions[n]:t.parseValidationError(this.model.get(n),this.model.rules[n],i[n],this.model.titles[n]||"This field",n),this.errors.set(n,l));a=this.model.changedAttributes();for(n in a)a.hasOwnProperty(n)&&!i.hasOwnProperty(n)&&this.errors.unset(n);o=[],s=this.errors.attributes;for(n in s)s.hasOwnProperty(n)&&o.push(s[n]);this.allErrors=new r(o),this.latestError=new r(l)},_onValid:function(){this._onInvalid(this.model,[])}},t.mixins.validateOnBlur={initialize:function(){this._addBlurListener(this.model)},setModel:function(e){this._addBlurListener(e)},_addBlurListener:function(e){e!==n&&e.listen("change",function(){this.model.validate(this.model.changedAttributes())&&this._onValid(this.model,[])})}},t.mixins.validateOnSubmit={events:{"submit form":function(){return!!this.model.isValid()&&void this._onValid(this.model,[])}}},i.prototype.validate=function(e){var i,n,r,s={};for(i in e)e.hasOwnProperty(i)&&(n=this.rules[i],n&&(null===n.equals&&void 0===n.equals&&(n.equals=this.choices&&this.choices[i]),r=t.validate(e[i],n),r!==!0&&(s[i]=r)));if(this.extendedValidate&&this.extendedValidate(s),Object.keys(s).length)return s},t.Validation={formats:s},t.plugins.push({name:"validation",scope:{namespace:"errors",observe:function(){},unobserve:function(){},getValue:function(e){return this.errors.get(e)},setValue:function(){}}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e,t){return p[t]?function(i,n){"innerHTML"!==t?a(e,n):e[t]=l(n)}:function(i,n){e.setAttribute(t,l(n))}}function i(e){return function(t,i){e.textContent=l(i)}}function n(e){var t=e.getAttribute(d);return t&&t===g?(g=null,!0):(g=t,!1)}function r(e){return function(t,i){n(e)||a(e,i)}}function s(e,t){return function(){n(e)||this.setValueForKey(t,c(e))}}var o=e.Cord,l=o.convertToString,a=o.encodeValue,c=o.decodeValue,u=o.randomUID,h=o.setImmediate,f=o.regex,p={innerHTML:!0,value:!0,checked:!0},d="data-binding",g=null;e.Cord.plugins.push({name:"binding",requirements:["interpolation"],attrs:function(e,i){var n,o,l;if(e.isView){for(var a in i)i.hasOwnProperty(a)&&(n=i[a],"string"==typeof n&&n.match(f.variableSearch)&&(this.observeFormat(n,t(e.el,a),!0),delete i[a]));i.dangerouslySetInnerHTML&&("string"==typeof i.dangerouslySetInnerHTML?this.observe(i.dangerouslySetInnerHTML,t(e.el,"innerHTML"),!0):i.dangerouslySetInnerHTML.__html&&(e.el.innerHTML=i.dangerouslySetInnerHTML.__html),delete i.dangerouslySetInnerHTML),i.bind&&(i.observe=i.bind,i.change=i.bind,delete i.bind),i.observe&&(i.observe!==i.change&&i.observe!==i.input||(l=!0,i[d]="binding-"+u()),this.observe(i.observe,r(e.el),!0),delete i.observe),i.change&&(o=s(e.el,i.change).bind(this),e.el.addEventListener("change",o),delete i.change),i.input&&(o=s(e.el,i.input).bind(this),e.el.addEventListener("input",o),delete i.input),o&&!l&&h(o)}},children:function(e,t){var n,r,s,o,l,a,c;if(e.isView)for(n=t.length-1;n>=0;--n)if(s=t[n],"string"==typeof s&&(o=s.split(f.variableSearch),o.length>1)){for(a=[n,1],l=s.match(f.variableSearch),r=0;r<l.length;++r)o[r].length&&a.push(document.createTextNode(o[r])),c=document.createTextNode(""),this.observe(f.variableValue.exec(l[r])[1],i(c),!0),a.push(c);o[r].length&&a.push(document.createTextNode(o[r])),Array.prototype.splice.apply(t,a)}}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e,t){return function(i,n){var s=r(n);s?o(e,t):l(e,t)}}function i(e){
var t="";return function(i,n){l(e,t),t=s(n),o(e,t)}}var n=e.Cord,r=n.convertToBool,s=n.convertToString,o=n.addClass,l=n.removeClass,a=n.regex;n.plugins.push({name:"classes",requirements:["interpolation"],classes:function(e,n){var r;if(e.isView)for(var s=n.length-1;s>=0;--s)if(r=n[s].match(a.conditionalValue)){var o=e.el,l=n[s].substr(0,r.index),c=r[1];this.observe(c,t(o,l),!0),n.splice(s,1)}else n[s].search(a.variableSearch)!==-1&&(this.observeFormat(n[s],i(e.el),!0),n.splice(s,1))}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e){var t=e.toString(),i=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(/([^\s,]+)/g);return i||(i=[]),i}function i(){var e,t,i,n,r=this.changedAttributes(),o={};for(n in r)if(r.hasOwnProperty(n)&&this._computedArgs[n])for(i=this._computedArgs[n],e=0;e<i.length;++e)t=i[e],o[t]||(o[t]=this.get(t),this.trigger("change:"+t,this,o[t],{}));s.setImmediate(function(){this.changed=o,this.trigger("change",this,{})}.bind(this),0)}function n(e,t){return function(){var i,n=[];for(i=0;i<t.length;++i)n.push(this.get(t[i]));return e.apply(this,n)}}function r(e,t,i){return function(){var n,r=[];for(n=0;n<i.length;++n)r.push(this.getValueForKey(i[n]));this[e]=new s.ForceValue(t.apply(this,r))}}var s=e.Cord,o=s.Model;o.prototype._addComputed=function(e,r){var s,o,l,a=t(r);for(this._computed||(this._computed={},this._computedArgs={},s=this.get,this.get=function(e){var t=this._computed[e];return t?t.call(this):s.call(this,e)},this.listenTo(this,"change",i)),this._computed[e]=n(r,a),o=0;o<a.length;++o)l=a[o],this._computedArgs[l]||(this._computedArgs[l]=[]),this._computedArgs[l].push(e)};var l=o.extend;o.extend=function(e){var t;return e.computed&&(t=e.initialize||o.prototype.initialize,e.initialize=function(){if(this.computed)for(var e in this.computed)this.computed.hasOwnProperty(e)&&this._addComputed(e,this.computed[e]);return t.apply(this,arguments)}),l.apply(this,arguments)},s.plugins.push({name:"computed",extend:function(e){var i,n,r;if(i=e.protoProps.properties)for(n in i)i.hasOwnProperty(n)&&(r=i[n],"function"==typeof r&&t(r).length?i[n]={get:r,readonly:!0}:s.isPlainObj(r)&&r.get&&t(r.get).length&&(r.readonly=!0))},initialize:function(){if(this.properties){var e,i,n,s,o;for(e in this.properties)if(this.properties.hasOwnProperty(e)&&(i=Object.getOwnPropertyDescriptor(this,e),i&&i.get&&(n=t(i.get),n.length)))for(o=r(e,i.get,n),Object.defineProperty(this,e,{get:this._synthesizeGetter(e)}),s=0;s<n.length;++s)this.observe(n[s],o,0===s)}}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e){return function(t){e.apply(this,arguments)===!1&&(t.preventDefault(),t.stopPropagation())}}function i(e,i){for(var n in i)if("on"===n.substr(0,2)&&i.hasOwnProperty(n)){var r="string"==typeof i[n]?this[i[n]]:i[n];"function"==typeof r&&(e.isView&&(r=r.bind(this)),e.el.addEventListener(n.substr(2).toLowerCase(),t(r))),delete i[n]}}var n=e.Cord;n.View.prototype.focus=function(e){var t=e?this.getChildById(e):this.el;t.getAttribute("tabindex")||(t.setAttribute("tabindex",-1),t.style.outline="none"),t.focus()},n.plugins.push({name:"events",attrs:i,bindings:i})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e){var t=null;return function(i,n){var r=s(n);null===t&&(t=e.style.display),e.style.display=r?"none":t}}function i(e){return function(t,i){e.style.visibility=s(i)?"hidden":"visible"}}function n(e,n){e.isView&&(n.hidden&&(this.observe(n.hidden,t(e.el),!0),delete n.hidden),n.invisible&&(this.observe(n.invisible,i(e.el),!0),delete n.invisible))}var r=e.Cord,s=r.convertToBool;r.plugins.push({name:"hidden",attrs:n,bindings:n})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e,t,i){return function(n){var r,s,o=[];for(r=0;r<t.length;++r)o.push(e[r]),s=t[r],o.push(this.getValueForKey(s));o.push(e[r]),i.call(this,n,o.join(""))}}var i=e.Cord,n=i.regex;i.View.prototype.observeFormat=function(e,i,r){var s=e.split(n.variableSearch),o=e.match(n.variableSearch);if(o)if(1===o.length&&o[0]===e)this.observe(n.variableValue.exec(o[0])[1],i,r);else{var l,a={};for(l=0;l<o.length;++l)o[l]=n.variableValue.exec(o[l])[1];for(l=0;l<o.length;++l)a[o[l]]||(this.observe(o[l],t(s,o,i),r),a[o[l]]=!0,r=!1)}},i.plugins.push({name:"interpolation"})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e,i,n){var r,s,o,l;if(!i)return e.appendChild(n),n;if(!n)return e.removeChild(i),null;if(i.nodeType!==n.nodeType||i.nodeName!==n.nodeName)return e.replaceChild(n,i),n;if(i.nodeType===Node.TEXT_NODE&&i.textContent!==n.textContent)return i.textContent=n.textContent,i;if(i.attributes){for(r=0;r<i.attributes.length;++r)s=i.attributes[r],n.hasAttribute(s.name)||i.removeAttributeNode(s);for(r=n.attributes.length-1;r>=0;--r)i.setAttributeNode(n.removeAttributeNode(n.attributes[r]))}for(o=Array.prototype.slice.call(n.childNodes),r=0;r<o.length;++r)t(i,i.childNodes[r],o[r]);if(l=i.childNodes.length-o.length,l>0)for(r=0;r<l;++r)i.removeChild(i.lastChild);return i}function i(e,i){var n,r,s,o=e.childNodes;for(i=i||[],r=Math.min(o.length,i.length),n=0;n<r;++n)t(e,o[n],i[n]);if(i.length>r){for(s=document.createDocumentFragment(),n=r;n<i.length;++n)s.appendChild(i[n]);e.appendChild(s)}else if(o.length>r)for(r=o.length-r,n=0;n<r;++n)e.removeChild(e.lastChild);return e}function n(e){var t;return function(){t||(t=r.setImmediate(function(){e()}))}}var r=e.Cord,s=e.Cord.config;r.DOM={updateNode:t,updateChildren:i},r.Component=r.View.extend({constructor:function(){var e=this.render,t=!0;this.render=function(){this.props=arguments[0],t&&this.componentWillMount?this.componentWillMount():this.componentWillUpdate&&this.componentWillUpdate();var i=e.apply(this,arguments);return t&&this.componentDidMount?this.componentDidMount():this.componentDidUpdate&&this.componentDidUpdate(),t=!1,i}},remove:function(){this.componentWillUnmount&&this.componentWillUnmount(),this.componentDidUnmount&&r.setImmediate(this.componentDidUnmount.bind(this))},setState:function(e){"function"==typeof e&&(e=e.call(this)),this.setValuesForKeys(e),this.render()}}),r.plugins.push({name:"render",config:{renderContainerId:"container"},requirements:["events"],initialize:function(){if(this.render!==e.View.prototype.render){var t,o,l=s.prefixCreateElement?this.render.bind(this,this._createElement):this.render,a=this.observe,c={};this.render=function(){var e,s,u,h=this.getChildById(r.config.renderContainerId)||this.el,f=!h.children.length;for(e in c)c.hasOwnProperty(e)&&this.unobserve(e,c[e]);c={},arguments.length&&(o=Array.prototype.slice.call(arguments)),t=n(this.render.bind(this)),this.observe=function(e,i){f?a.call(this,"%"+e,i):i.call(this,e,this.getValueForKey(e)),c[e]||a.call(this,e,c[e]=t)},this.createSubview=function(){console.error("Subviews not allowed inside render()")},u=r._viewContext,r._viewContext=this;try{s=l.apply(this,o)||[],s instanceof Array||(s=[s])}finally{delete this.observe,delete this.createSubview,r._viewContext=u}return i(h,s),this.trigger("render",this),this}}},attrs:function(e,t){t.ref&&(r.setImmediate(t.ref.bind(this,e.el)),delete t.ref)},bindings:function(e,t){t.render&&(e.renderArgs=t.render,delete t.render)},complete:function(t){t.subview&&t.subview.render!==e.View.prototype.render&&t.subview.render(t.renderArgs)}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(){var e,t;for(t in I)I.hasOwnProperty(t)&&(e=document.createElement("style"),e.type="text/css",I[t]&&(e.media=I[t]),e.appendChild(document.createTextNode("")),document.head.appendChild(e),E[t]=e.sheet)}function i(e,t){return void 0===document.documentElement.style[e]?t?S:V:""}function n(e){var t=i(e);return t?t+e[0].toUpperCase()+e.substr(1):e}function r(e){var t=e.toLowerCase();return!A||Element.prototype.hasOwnProperty("on"+t)?t:A+e}function s(e){var t,i,n=0,r=[];for(t=0;t<e.length;++t)i=e.charCodeAt(t),i>=65&&i<=90&&t&&(r.push(e.substring(n,t).toLowerCase()),n=t);return r.push(e.substring(n,t).toLowerCase()),r.join("-")}function o(e,t,n,r,l,a){var c,u,h,f,p,d;l=l||"all",u=E[l];for(c in t)if(t.hasOwnProperty(c))if("object"==typeof t[c]){if(f=p=null,d=">",h=c,0===h.indexOf(y.mediaQueryPrefix)&&(f=h.substr(y.mediaQueryPrefix.length),!I[f]))return;if(!f){if(h.indexOf(",")!==-1){for(var g=h.split(","),b={},v=0;v<g.length;++v)b[g[v].trim()]=t[c];o(e,b,n,r,l,a);continue}":+~>".indexOf(h[0])!==-1?(d=h[0],h=h.substr(1)):0===h.indexOf(y.allSelectorPrefix)?(d=" ",h=h.substr(y.allSelectorPrefix.length)):0===h.indexOf(y.parentSelectorPrefix)&&(d="",h=h.substr(y.parentSelectorPrefix.length)),"#"===h[0]&&(p=h.substr(1)),p&&!m.testIdProperty(p,!0)&&(p=null)}f?o(e,t[c],n,r,f):p?o(e,t[c],n,r+d+m.replaceIdSelectors("#"+p,e),l,p):o(e,t[c],n,r+d+m.replaceIdSelectors(h,e),l)}else{var w=t[c].toString();if(w.search(m.variableSearch)!==-1){var _=a||O;n[_]||(n[_]={}),n[_][c]=w}else{var C=r+"{"+i(c,!0)+s(c)+":"+w+";}";x("@"+l,C),u.insertRule(C,u.cssRules.length)}}}function l(e,t){var n,r,o,l,a,c,u,h,f,p=E.animations;for(n in t)if(t.hasOwnProperty(n)){if(r=t[n],Array.isArray(r)){for(1===r.length&&r.unshift({}),l=r,r={},a=100/(l.length-1),c=0;c<l.length;++c)r[Math.ceil(a*c)+"%"]=l[c];t[n]=r}if(w(r)){if(r.name)continue;u="";for(o in r)if(r.hasOwnProperty(o)&&"options"!==o&&"aliases"!==o){u+=o+"{",f=r[o];for(h in f)f.hasOwnProperty(h)&&(u+=i(h,!0)+s(h)+":"+f[h]+";");u+="}"}e?r.name=n+"-"+e:r.name=n,u=T+r.name+"{"+u+"}",x(u),p.insertRule(u,p.cssRules.length)}}}function a(e,t){return t=n(t),function(i,n){e.style[t]=_(n)}}function c(e,t){var i=t.style;if(i&&("string"==typeof i&&e.isView&&this[i]&&(i=this[i]),"object"==typeof i)){for(var r in i)i.hasOwnProperty(r)&&(i[r].match(m.variableSearch)&&e.isView?this.observeFormat(i[r],a(e.el,r),!0):e.el.style[n(r)]=i[r]);delete t.style}}function u(e,t){var i,n,r,s,o,l=e.split(/: */);for(l.length>1?(s=l[1].split(/, */),o=this.el.querySelectorAll(m.replaceIdSelectors(l[0].trim(),this.vuid))):(s=l[0].split(/, */),o=[this.el]),i=0;i<s.length;++i)n=s[i],r=this.animations[n]||j[n]||{name:n},s[i]=r.name,r.options&&(t=b(r.options,t));return{animations:s,elements:o,options:t}}function h(e,t){for(var i=e.split(/, */),n=[],r=0;r<i.length;++r)t.indexOf(i[r])!==-1&&n.push(r);return n.length===i.length||n}function f(e,t){return t===!0?"":e.split(/, */).filter(function(e,i){return t.indexOf(i)===-1}).join(",")}function p(e,t,i){var n,r=e.split(/, */);if(t===!0)for(n=0;n<r.length;++n)r[n]=i;else for(n=0;n<t.length;++n)r[t[n]]=i;return r.join(",")}var d=e.Cord,g=d.View,y=d.config,m=d.regex,b=d.mixObj,v=d.copyObj,w=d.isPlainObj,_=d.convertToString,x=d.log,O="(this)",C=navigator.userAgent.toLowerCase(),P=(/(chrome|safari)/.exec(C)||/firefox/.exec(C)||/msie/.exec(C)||/trident/.exec(C)||/opera/.exec(C)||"")[0],V={chrome:"webkit",firefox:"Moz",msie:"ms",opera:"O",safari:"webkit",trident:"ms"}[P]||"",A={chrome:"webkit",opera:"webkit",safari:"webkit"}[P]||"",S="-"+V.toLowerCase()+"-",E={},j={},I={all:"",animations:"",hd:"only screen and (max-width: 1200px)",desktop:"only screen and (max-width: 992px)",tablet:"only screen and (max-width: 768px)",phablet:"only screen and (max-width: 480px)",mobile:"only screen and (max-width: 320px)"},T="@"+i("animationName",!0)+"keyframes ",k={duration:"250ms",delay:"0",timing:"ease",count:"1",direction:"normal",fill:"none",state:"running",interactive:!0},L=n("animationName"),M=n("animationDelay"),q=n("animationDirection"),N=n("animationDuration"),F=n("animationIterationCount"),B=n("animationTimingFunction"),D=n("animationFillMode"),K=n("animationPlayState"),z=n("transitionDelay"),R=n("transitionDuration"),U=n("transitionProperty"),$=n("transitionTimingFunction"),H=r("AnimationIteration"),G=r("AnimationEnd"),W=r("TransitionEnd");g.prototype.beginAnimation=function(e,t,i){var n,r,s,o,l,a,c,h,f,p,d,g;if(t&&"function"!=typeof t||(i=t,t={}),Array.isArray(e)){for(c=1;c<e;++c)this.beginAnimation(e[c],t);e=e[0]}if(n=u.call(this,e,t),r=n.animations,l=n.elements,!l.length)return this;for(t=b(k,n.options),o=t.interactive?"":"none",c=0;c<l.length;++c)for(a=l[c],s=a.style[L]?",":"",h=0;h<r.length;++h)a.style[M]+=s+t.delay,a.style[q]+=s+t.direction,a.style[N]+=s+t.duration,a.style[F]+=s+t.count,a.style[B]+=s+t.timing,a.style[D]+=s+t.fill,a.style[K]+=s+t.state,a.style[L]+=s+r[h],a.style.pointerEvents=o,s=",";return parseInt(t.count)>1&&i&&(f=0,p=function(n){n.target===n.currentTarget&&(f+=1,i.call(this,f,e,t)===!1&&this.pauseAnimation(e))}.bind(this),l[0].addEventListener(H,p)),d="infinite"!==t.count&&"none"===t.fill,g=function(n){n.target===n.currentTarget&&(p&&n.target.removeEventListener(H,p),n.target.removeEventListener(G,g),d&&this.cancelAnimation(e),i&&i.call(this,-1,e,t))}.bind(this),l[0].addEventListener(G,g),this},g.prototype._updateAnimation=function(e,t,i){var n,r,s,o,l,a,c;if(n=u.call(this,e),r=n.animations,s=n.elements,!s.length)return this;for(l=0;l<s.length;++l)o=s[l],o.style[L]!==a&&(a=o.style[L],c=h(o.style[L],r)),o.style[t]=p(o.style[t],c,i);return this},g.prototype.pauseAnimation=function(e){return this._updateAnimation(e,K,"paused")},g.prototype.resumeAnimation=function(e){return this._updateAnimation(e,K,"running")},g.prototype.cancelAnimation=function(e){var t,i,n,r,s,o,l;if(t=u.call(this,e),i=t.animations,n=t.elements,!n.length)return this;for(s=0;s<n.length;++s)r=n[s],r.style[L]!==o&&(o=r.style[L],l=h(r.style[L],i)),r.style[M]=f(r.style[M],l),r.style[q]=f(r.style[q],l),r.style[N]=f(r.style[N],l),r.style[F]=f(r.style[F],l),r.style[B]=f(r.style[B],l),r.style[D]=f(r.style[D],l),r.style[K]=f(r.style[K],l),r.style[L]=f(r.style[L],l),r.style.pointerEvents="";return this},g.prototype.beginTransition=function(e,t,r,o){var l,a,c,u,p,d;if(w(e)&&(o=r,r=t,t=e,e=null),"function"==typeof r&&(o=r,r={}),r=b(k,r),l=e?this.el.querySelectorAll(m.replaceIdSelectors(e,this.vuid)):[this.el],!l.length)return this;for(a=0;a<l.length;++a){c=l[a],u=c.style[U]?",":"";for(p in t)t.hasOwnProperty(p)&&(c.style[z]+=u+r.delay,c.style[R]+=u+r.duration,c.style[U]+=u+i(p,!0)+s(p),c.style[$]+=u+r.timing,c.style[n(p)]=t[p],u=",")}return d=function(n){var a,c,u,p,g;if(n.target===n.currentTarget){for(n.target.removeEventListener(W,d),u=Object.keys(t).map(function(e){return i(e,!0)+s(e)}),a=0;a<l.length;++a)c=l[a],c.style[U]!==p&&(p=c.style[U],g=h(c.style[U],u)),c.style[z]=f(c.style[z],g),c.style[R]=f(c.style[R],g),c.style[U]=f(c.style[U],g),c.style[$]=f(c.style[$],g);o&&o.call(this,e,t,r)}}.bind(this),l[0].addEventListener(W,d),this},g.prototype.applyStyles=function(e,t){var i,r,s,o;if(w(e)&&(t=e,e=null),i=e?this.el.querySelectorAll(m.replaceIdSelectors(e,this.vuid)):[this.el],!i.length)return this;for(r=0;r<i.length;++r){s=i[r];for(o in t)t.hasOwnProperty(o)&&(s.style[n(o)]=t[o])}return this},g.prototype.clearStyles=function(e,t){w(e)&&(t=e,e=null),t=v(t);for(var i in t)t.hasOwnProperty(i)&&(t[i]="");return this.applyStyles(e,t),this};var Q={"0%":"from",from:"0%","100%":"to",to:"100%"};g.prototype.getKeyframe=function(e,t,i){var n,r,s;e=this.animations[e]||j[e],t=t||"0%",n=e.aliases||{},s=e[t]||e[Q[t]||n[t]],s=v(s);for(r in s)0===r.indexOf("animation")&&s.hasOwnProperty(r)&&delete s[r];if(i)for(r in s)s.hasOwnProperty(r)&&(s[r]="");return s},g.prototype.beginKeyframeTransition=function(e,t,i,n,r){var s;if((this.animations[e]||j[e])&&(r=n,n=i,i=t,t=e,e=null),"string"!=typeof i&&(r=n,n=i,i=null),"function"==typeof n&&(r=n,n={}),i=i||"0%",s=this.getKeyframe(t,i),!e){var o=this._appliedKeyframes[t];o&&(s=b(this.getKeyframe(t,o,!0),s)),this._appliedKeyframes[t]=i}return this.beginTransition(e,s,n,r)},g.prototype.applyKeyframe=function(e,t,i){return(this.animations[e]||j[e])&&(i=t,t=e,e=null),i=i||"0%",e||(this._appliedKeyframes[t]=i),this.applyStyles(e,this.getKeyframe(t,i))},g.prototype.clearKeyframe=function(e,t,i){return(this.animations[e]||j[e])&&(i=t,t=e,e=null),i=i||"0%",e||(i=this._appliedKeyframes[t],delete this._appliedKeyframes[t]),this.clearStyles(e,this.getKeyframe(t,i))},d.Styles={userAgent:C,browser:P,addStylePrefix:n,addEventPrefix:r,getCSSPrefix:function(e){return i(e,!0)},camelCaseToDash:s,animations:j,mediaQueries:I,addAnimation:function(e,t){var i;w(e)?i=e:(i={},i[e]=t),l(null,i),j=b(j,i)}},d.plugins.push({name:"styles",requirements:["interpolation"],config:{mediaQueryPrefix:"@",parentSelectorPrefix:"&",allSelectorPrefix:"$"},attrs:c,bindings:c,extend:function(e){var i,n={};(e.protoProps.styles||e.protoProps.animations)&&(e.protoProps.className||(e.protoProps.className="view-"+e.protoProps.vuid),Object.keys(E).length||t(),i=d.getPrototypeValuesForKey(this,"className",!0),i.push(e.protoProps.className),i=i.join(" "),e.protoProps.styles&&o(e.protoProps.vuid,e.protoProps.styles,n,"."+i.split(" ").join(".")),e.protoProps.animations&&l(e.protoProps.vuid,e.protoProps.animations)),e.protoProps._styles=n},initialize:function(){if(this._styles&&this._styles[O]){var e=v(this._styles[O]);x(e);for(var t in e)e.hasOwnProperty(t)&&this.observeFormat(e[t],a(this.el,t),!0)}this._appliedKeyframes={}},complete:function(e){if(this._styles&&e.id&&this._styles[e.id]){var t=v(this._styles[e.id]);x(t);for(var i in t)t.hasOwnProperty(i)&&this.observeFormat(t[i],a(e.el,i),!0)}}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";var t="http://www.w3.org/2000/svg",i="http://www.w3.org/1999/xlink",n={animate:1,animateMotion:1,animateTransform:1,circle:1,clipPath:1,"color-profile":1,defs:1,desc:1,discard:1,ellipse:1,feBlend:1,feColorMatrix:1,feComponentTransfer:1,feComposite:1,feConvolveMatrix:1,feDiffuseLighting:1,feDisplacementMap:1,feDistantLight:1,feDropShadow:1,feFlood:1,feFuncA:1,feFuncB:1,feFuncG:1,feFuncR:1,feGaussianBlur:1,feImage:1,feMerge:1,feMergeNode:1,feMorphology:1,feOffset:1,fePointLight:1,feSpecularLighting:1,feSpotLight:1,feTile:1,feTurbulence:1,filter:1,font:1,foreignObject:1,g:1,glyph:1,hatch:1,hatchpath:1,image:1,line:1,linearGradient:1,marker:1,mask:1,metadata:1,mpath:1,path:1,pattern:1,polygon:1,polyline:1,radialGradient:1,rect:1,set:1,solidcolor:1,stop:1,svg:1,"switch":1,symbol:1,text:1,textPath:1,tspan:1,use:1,view:1},r={href:1,show:1,title:1};e.Cord.plugins.push({name:"svg",tag:function(e,i){return n[i]?document.createElementNS(t,i):"svg"===i.substr(0,3)?(i=i.substr(3),i=":"===i[0]?i.substr(1):i[0].toLowerCase()+i.substr(1),document.createElementNS(t,i)):void 0},attrs:function(e,n){var s=e.el;if(s.namespaceURI===t)for(var o in n)n.hasOwnProperty(o)&&(r[o]?(s.setAttributeNS(i,o,n[o]),delete n[o]):"lang"===o&&(s.setAttributeNS(t,o,n[o]),delete n[o]))}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e,t){var i=function(t){var i,n=t.changedAttributes();if(n)for(i in n)n.hasOwnProperty(i)&&this._invokeObservers(e,i,n[i])};return{namespace:e,model:t,observe:function(){this._hasObservers(e)||this.listenTo(t,"change",i)},unobserve:function(){this._hasObservers(e)||this.stopListening(t,"change",i)},getValue:function(e){return t.get(e)},setValue:function(e,i){t.set(e,i)}}}var i=e.Cord,n=e.Model,r=i._scopes;i.UnmanagedScopes={set:function(e,i){if(e=e.toLowerCase(),r[e])throw new Error("Attempting to override an existing scope.");r[e]=t(e,i),this[e]=i}},i.UnmanagedScopes.set("shared",new n),i.UnmanagedScopes.set("route",new n),i.plugins.push({name:"unmanagedscopes"})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone"));