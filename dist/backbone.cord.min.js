!function(e){"use strict";function t(e){return e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype}function i(e){var n,r,o={};for(n in e)e.hasOwnProperty(n)&&(r=e[n],t(r)&&(r=i(r)),o[n]=r);return o}function n(e,t){var i,n;for(t=Array.isArray(t)?t:t.split("."),i=0;i<t.length;++i)n=t[i],e instanceof V.Cord.View?(V.Cord._scopes[n.toLowerCase()]&&i+1<t.length&&(i+=1,n=n+"."+t[i]),e=e.getValueForKey(n)):e instanceof V.Model?e="id"===n?e.id:e.get(n):e&&(e="value"===n&&e.nodeType===Node.ELEMENT_NODE?V.Cord.decodeValue(e):e[n]);return e}function r(e,t,i){var r;t=Array.isArray(t)?t:t.split("."),e=n(e,t.slice(0,-1)),r=t[t.length-1],e instanceof V.Cord.View?e.setValueForKey(r,i):e instanceof V.Model?e.set("id"===r?e.idAttribute:r,i):e&&("value"===r&&e.nodeType===Node.ELEMENT_NODE?V.Cord.encodeValue(e,i):e[r]=i)}function o(e,t){return function(){return e.apply(this,arguments),t.apply(this,arguments)}}function s(e,t){return function(){var i=e.apply(this,arguments),n=Object.getPrototypeOf(Object.getPrototypeOf(this));return n&&n[t]?n[t].apply(this,arguments):i||this}}function l(e){var n,r,s,a,c;for("string"==typeof e&&(e=V.Cord.mixins[e]||{}),e=i(e),n=1;n<arguments.length;++n){a=arguments[n],"string"==typeof a&&(a=V.Cord.mixins[a]||{});for(r in a)a.hasOwnProperty(r)&&(s=e[r],c=a[r],t(s)&&t(c)?e[r]=l(s,c):"function"==typeof s&&"function"==typeof c?e[r]=o(s,c):e[r]=c)}return e}function a(){var e,t,i=l.apply(this,arguments),n=arguments[arguments.length-1];"string"==typeof n&&(n=V.Cord.mixins[n]||{});for(e in i)i.hasOwnProperty(e)&&(t=i[e],"function"==typeof t&&"function"!=typeof n[e]&&(i[e]=s(t,e)));return i}function c(e,t,i){for(var n=i?e.prototype:Object.getPrototypeOf(e),r=[];n;n=Object.getPrototypeOf(n))n.hasOwnProperty(t)&&r.unshift(n[t]);return r}function u(e,t){var i=V.Cord._callbacks[e],n=Array.prototype.slice.call(arguments,1);delete t[e];for(var r=0;r<i.length;++r)t[e]=i[r].apply(this,n)||t[e];return t[e]}function h(e,n){if(V.Cord._viewContext&&this!==V.Cord._viewContext)return h.apply(V.Cord._viewContext,arguments);if("string"!=typeof e){var r=e;if("function"!=typeof r||r.prototype instanceof V.View)return d.apply(this,arguments).el;var o=Array.prototype.slice.call(arguments,1);return t(n)?o[0]=i(o[0]):o.unshift({}),o[0].children=o.length>2?o.slice(1):o[1],V.Cord.config.prefixCreateElement&&o.unshift(this._createElement),r.apply(this,o)}e=e.split(".");var s={isView:this instanceof V.Cord.View},l=e[0].split("#"),a=l[0]||"div",c=s.el=this._callPlugins("tag",s,a)||document.createElement(a),u=s.id=l[1]||n&&n.id;u&&V.Cord.setId(c,u,this.vuid);var f=e.slice(1)||n&&n.className;if(V.Cord.addClass(c,this._callPlugins("classes",s,f)||f),arguments.length>1){var p=1;if(!("string"==typeof n||n instanceof V.View||n instanceof Node)){p=2,n=i(n),delete n.id,delete n.className,n.htmlFor&&(n["for"]=n.htmlFor,delete n.htmlFor),n=this._callPlugins("attrs",s,n)||n;for(var g in n)n.hasOwnProperty(g)&&c.setAttribute(g,n[g])}var y,m=Array.prototype.slice.call(arguments,p);for(m=this._callPlugins("children",s,m)||m,p=0;p<m.length;++p)y=m[p],"string"==typeof y?c.appendChild(document.createTextNode(y)):y instanceof V.View?c.appendChild(y.el):c.appendChild(y)}return V.Cord.config.idProperties&&s.isView&&u&&V.Cord.regex.testIdProperty(u)&&Object.defineProperty(this,u,{get:function(){return this.getChildById(u)},enumerable:!0,configurable:!1}),this._callPlugins("complete",s)||c}function d(e,t,n,r){var o,s,l,a,c;if(l=e instanceof V.View?e:new e,this.model!==V.Cord.EmptyModel&&l.model===V.Cord.EmptyModel&&!l.collection&&l instanceof V.Cord.View&&(l.cascade&&l.cascade(this.model)===!1||l.setModel(this.model)),a={el:l.el,isView:this instanceof V.Cord.View,subview:l},!a.isView)throw new Error("Attempting to create a subview without a parent.");if("string"==typeof t?(t=t.split("."),o=a.id=t[0].substr(1),o&&!V.Cord.hasId(l.el)&&V.Cord.setId(l.el,o,this.vuid),s=t.slice(1),V.Cord.addClass(l.el,this._callPlugins("classes",a,s)||s)):(r=n,n=t),n){n=i(n),n=this._callPlugins("bindings",a,n)||n;for(var u in n)n.hasOwnProperty(u)&&(c="string"==typeof n[u]?this[n[u]]||_(n[u]):n[u],"function"==typeof c&&(l.properties&&l.properties.hasOwnProperty(u)?l.observe(u,c.bind(this)):this.listenTo(l,u,c)))}return r&&l.setValuesForKeys(r),l.sid=V.Cord._sid,V.Cord._sid+=1,l.el.setAttribute("data-sid",l.sid),this.subviews[l.sid]=l,this.listenToOnce(l,"remove",function(e){this.stopListening(e),delete this.subviews[e.sid]}),V.Cord.config.idProperties&&a.isView&&o&&V.Cord.regex.testIdProperty(o)&&Object.defineProperty(this,o,{get:function(){return this.getSubviewById(o)},set:function(e){var t,i;if(!(e instanceof V.View))throw new Error("Attempting to assign a non-Backbone.View to a subview.");t=e.el,i=this.getSubviewById(o),i.el.parentNode.insertBefore(t,i.el),i.remove(),e.sid||this._createSubview(e),V.Cord.hasId(t)?o!==V.Cord.getId(t)&&delete this[o]:V.Cord.setId(t,o,this.vuid)},enumerable:!0,configurable:!0}),this._callPlugins("complete",a),l}function f(e){return document.createTextNode(e)}function p(e,t){"function"==typeof e?e=e.prototype instanceof V.View?(new e).el:e():e instanceof V.View?e=e.el:"string"==typeof e?e=this.createText(e):e instanceof Node||(e=this.createElement(e)),"string"==typeof t&&(t=document.querySelector(t)),t.appendChild(e)}function g(e,t,i){e!==t&&("string"==typeof i&&(i=document.querySelector(i)),e&&(e instanceof V.View?e.remove():i.removeChild(e)),this.render(t,i))}function y(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function m(e){var t=e+"Search",i=e+"Value";return e="_"+e,{get:function(){return this[e]},set:function(n){this[e]=n,this[t]=new RegExp(y(n.prefix)+".*?"+y(n.suffix),"g"),this[i]=new RegExp(y(n.prefix)+"\\s*(.*?)\\s*"+y(n.suffix))}}}function v(e,t){var i=function(i){t?t.call(this,i):this["_"+e]=i,this._invokeObservers("this",e,this[e])};return i._cordWrapped=!0,i._prevSet=t,i}function b(e,t){return function(i,n){for(var r=0;r<t.length;++r)n=t[r](n);return e.call(this,i,n)}}function w(e){return function(t,i){e.call(this,t,!V.Cord.convertToBool(i))}}function C(e,t){return function(i,r){return e.call(this,i,n(r,t))}}function _(e){return function(){this.setValueForKey(e,arguments[arguments.length-1])}}var V=e.Backbone||require("backbone"),x=e.cordCompatibilityMode,O=e.cordDebug;V.Cord={VERSION:"1.0.14",config:{idProperties:!0,prefixCreateElement:!1},regex:{idPropertyTest:/^[a-zA-Z_$][0-9a-zA-Z_$]*$/,idSelectorValues:/#([a-zA-Z_$][0-9a-zA-Z_$]*)/g},plugins:[],filters:{lower:function(e){return e.toLowerCase()},upper:function(e){return e.toUpperCase()},title:function(e){return e.replace(/\b[^\s-]*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}},decoders:{range:function(e){return parseInt(e.value)},number:function(e){return Number(e.value)},"int":function(e){return parseInt(e.value)},integer:function(e){return parseInt(e.value)},"float":function(e){return parseFloat(e.value)},decimal:function(e){return parseFloat(e.value)},date:function(e){return new Date(e.value)},datetime:function(e){return new Date(e.value)},bool:function(e){return e.checked},checkbox:function(e){return e.checked}},encoders:{date:function(e,t){e.value=t.toDateString()},datetime:function(e,t){e.value=t.toString()},bool:function(e,t){e.checked=V.Cord.convertToBool(t)},checkbox:function(e,t){e.checked=V.Cord.convertToBool(t)}},decodeValue:function(e){var t=V.Cord.decoders[e.getAttribute("data-type")||e.getAttribute("type")];return e.hasAttribute("data-null")&&!e.value?null:t?t(e):e.value},encodeValue:function(e,t){var i=V.Cord.encoders[e.getAttribute("data-type")||e.getAttribute("type")];i?i(e,t):e.value=V.Cord.convertToString(t);var n=document.createEvent("HTMLEvents");n.initEvent("change",!0,!0),e.dispatchEvent(n)},mixins:{},copyObj:i,mixObj:l,mixProto:a,isPlainObj:t,getPrototypeValuesForKey:c,convertToString:function(e){return null===e||void 0===e?"":e.toString()},convertToBool:function(e){return!(!e||void 0!==e.length&&!e.length)},convertToNumber:function(e){return Number(e)||0},randomUID:function(){return(Math.floor(65536*(1+Math.random()))^Date.now()%65536).toString(16).substr(1)},randomGUID:function(){var e=this.randomUID;return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},randomCode:function(e){var t="";for(e=e||12;t.length<e;)t+=this.randomUID();return t.substr(0,e)},setImmediate:(e.requestAnimationFrame||e.setTimeout).bind(e),clearImmediate:(e.cancelAnimationFrame||e.clearTimeout).bind(e),ForceValue:function(e){this.value=e},View:x?V.View.extend({}):V.View,EmptyModel:new(V.Model.extend({set:function(){return this},toString:function(){return""}})),EmptyView:V.View.extend({tagName:"meta"}),EmptyCollection:new(V.Collection.extend({add:function(){return this},reset:function(){return this},set:function(){return this},toString:function(){return""}})),_sid:1,_pluginsChecked:!1,_callPlugins:u,_scopes:{},_callbacks:{tag:[],classes:[],attrs:[],children:[],bindings:[],complete:[],extend:[],create:[],initialize:[],remove:[]}},"object"==typeof exports&&(module.exports=V.Cord),V.Cord.log=O?function(){for(var e=[],t=Array.prototype.slice.call(arguments),i=0;i<t.length;++i)e.push("object"==typeof t[i]?"%O":"%s");t.unshift(e.join(" | ")),console.log.apply(console,t)}:function(){},V.Cord.h=V.Cord.createElement=h.bind(V.Cord),V.Cord.createText=f.bind(V.Cord),V.Cord.render=p.bind(V.Cord),V.Cord.replace=g.bind(V.Cord),V.Cord.parseKeyPath=function(e){var t;return e=e.replace(/__/g,"."),t=e.split("."),1!==t.length&&V.Cord._scopes[t[0].toLowerCase()]?t[0]=t[0].toLowerCase():t.unshift("this"),t},V.Cord.hasId=function(e){return!!e.getAttribute("data-id")},V.Cord.getId=function(e){return e.getAttribute("data-id").split("-")[0]},V.Cord.setId=function(e,t,i){e.setAttribute("data-id",t+(i?"-"+i:""))},V.Cord.hasClass=function(e,t){return(e.getAttribute("class")||"").split(" ").indexOf(t)!==-1},V.Cord.addClass=function(e,t){Array.isArray(t)||(t=t.split(" "));for(var i=0;i<t.length;++i)V.Cord.hasClass(e,t[i])||e.setAttribute("class",((e.getAttribute("class")||"")+" "+t[i]).trim())},V.Cord.removeClass=function(e,t){var i,n=(e.getAttribute("class")||"").split(" ");for(Array.isArray(t)||(t=t.split(" ")),i=n.length-1;i>=0;--i)t.indexOf(n[i])!==-1&&n.splice(i,1);e.setAttribute("class",n.join(" "))},V.Cord.regex.replaceIdSelectors=function(e,t){return e.replace(this.idSelectorValues,'[data-id="$1'+(t?"-"+t:"")+'"]')},V.Cord.regex.testIdProperty=function(e,t){var i=this.idPropertyTest.test(e);if(!i&&!t)throw new Error('Invalid id "'+e+'" used');return i},Object.defineProperties(V.Cord.regex,{variable:m("variable"),conditional:m("conditional")}),V.Cord.regex.variable={prefix:"[",suffix:"]"},V.Cord.regex.conditional={prefix:"(",suffix:")"},V.Cord.plugins._check=function(){var e,t,i,n={};for(e=0;e<this.length;++e)n[this[e].name]=!0;for(e=0;e<this.length;++e)if(i=this[e],i.requirements)for(t=0;t<i.requirements.length;++t)if(!n[i.requirements[t]])throw new Error('Backbone.Cord plugin "'+i.name+'" requires missing plugin "'+i.requirements[t]+'"')},V.Cord.plugins._register=function(e,t){if(e.config)for(var i in e.config)e.config.hasOwnProperty(i)&&!V.Cord.config.hasOwnProperty(i)&&(V.Cord.config[i]=e.config[i]);for(var n in V.Cord._callbacks)V.Cord._callbacks.hasOwnProperty(n)&&"function"==typeof e[n]&&t.call(V.Cord._callbacks[n],e[n]);return e.scope&&(V.Cord._scopes[e.scope.namespace.toLowerCase()]=e.scope),t.call(this,e)},V.Cord.plugins.unshift=function(e){return this._register(e,Array.prototype.unshift)},V.Cord.plugins.push=function(e){return this._register(e,Array.prototype.push)},V.Cord.View.prototype.createElement=h,V.Cord.View.prototype.createSubview=d,V.Cord.View.prototype.createText=f,V.Cord.View.prototype._callPlugins=u,V.Cord._scopes["this"]={observe:function(e){var t=Object.getOwnPropertyDescriptor(this,e);t&&(t.set._cordWrapped||(t.set?Object.defineProperty(this,e,{set:v(e,t.set)}):(this["_"+e]=this[e],delete this[e]&&Object.defineProperty(this,e,{get:this._synthesizeGetter(e),set:v(e),enumerable:!0,configurable:!0}))))},unobserve:function(e){if(!this._hasObservers("this",e)){var t=Object.getOwnPropertyDescriptor(this,e);if(t.set._prevSet)Object.defineProperty(this,e,{set:t.set._prevSet});else{var i=this[e];delete this[e],this[e]=i}}},getValue:function(e){return this[e]},setValue:function(e,t){this[e]=t}},V.Cord.View.prototype._synthesizeGetter=function(e){return e="_"+e,function(){return this[e]}},V.Cord.View.prototype._synthesizeSetter=function(e){return e="_"+e,function(t){this[e]=t}},V.Cord.View.prototype._synthesizeReadonlySetter=function(e){return e="_"+e,function(t){if("object"!=typeof t||Object.getPrototypeOf(t)!==V.Cord.ForceValue.prototype)throw new Error("Attempting to assign a readonly property.");this[e]=t.value}},V.Cord.View.prototype._synthesizeProperty=function(e,i){var n=null,r=!1,o={configurable:!0,enumerable:!0};"function"==typeof i?o.get=i:t(i)?(n=i.value,r=i.readonly,o.get=i.get,o.set=i.set):n=i,o.get=o.get||this._synthesizeGetter(e),o.set=null===o.set||r?this._synthesizeReadonlySetter(e):o.set||this._synthesizeSetter(e),Object.defineProperty(this,e,o),Object.defineProperty(this,"_"+e,{configurable:!1,enumerable:!1,value:n,writable:!0})},V.Cord.View.prototype._getObservers=function(e,t,i){var n;return e=e.toLowerCase(),n=this._observers[e],n||(n={},i&&(this._observers[e]=n)),t&&(n=n[t]?n[t]:i?n[t]=[]:[]),n},V.Cord.View.prototype._hasObservers=function(e,t){var i=this._getObservers(e,t);return Array.isArray(i)?!!i.length:!!Object.keys(i).length},V.Cord.View.prototype._addObserver=function(e,t,i){var n=this._getObservers(e,t,!0);n.push(i)},V.Cord.View.prototype._removeObserver=function(e,t,i){var n=this._getObservers(e);if(n[t]){var r=n[t].indexOf(i);r!==-1&&(n[t].splice(r,1),n[t].length||delete n[t])}},V.Cord.View.prototype._invokeObservers=function(e,t,i){V.Cord.log(e,t,i);var n,r=this._getObservers(e,t);for(n=0;n<r.length;++n)r[n].call(this,t,i);return this},V.Cord.View.prototype.observe=function(e,t,i){var n,r,o;if("string"==typeof t&&(t=this[t]||_(t)),"function"!=typeof t)return this;if("!"===e[0]&&(e=e.substr(1),t=w(t)),e.indexOf("|")!==-1){var s,l=[],a=e.split("|");for(e=a[0].trim(),s=1;s<a.length;++s)l.push(V.Cord.filters[a[s].trim()]||Math[a[s].trim()]);t=b(t,l)}return"%"===e[0]?(e=e.substr(1),t.call(this,null,this.getValueForKey.call(this,e)),this):(n=V.Cord.parseKeyPath(e),r=n[0],e=n[1],o=V.Cord._scopes[r],n.length>2&&(t=C(t,n.slice(2))),o.observe.call(this,e,t,i),this._addObserver(r,e,t),i&&t.call(this,e,o.getValue.call(this,e)),this)},V.Cord.View.prototype.unobserve=function(e,t){var i,n,r;return"string"==typeof t&&(t=this[t]),t?(i=V.Cord.parseKeyPath(e),n=i[0],e=i[1],r=V.Cord._scopes[n],this._removeObserver(n,e,t),r.unobserve.call(this,e,t),this):this},V.Cord.View.prototype.getValueForKey=function(e){var t,i,r;return t=V.Cord.parseKeyPath(e),i=V.Cord._scopes[t[0]],r=i.getValue.call(this,t[1]),t.length>2&&(r=n(r,t.slice(2))),r},V.Cord.View.prototype.setValueForKey=function(e,t){var i,n;return i=V.Cord.parseKeyPath(e),n=V.Cord._scopes[i[0]],i.length>2?r(n.getValue.call(this,i[1]),i.slice(2),t):n.setValue.call(this,i[1],t),this},V.Cord.View.prototype.setValuesForKeys=function(e){var i,n;if(t(e))for(n in e)e.hasOwnProperty(n)&&this.setValueForKey(n,e[n]);else for(i=0;i+1<arguments.length;i+=2)this.setValueForKey(arguments[i],arguments[i+1]);return this},V.Cord.View.prototype.getChildById=function(e){return this.el.querySelector('[data-id="'+e+"-"+this.vuid+'"]')},V.Cord.View.prototype.getSubviewById=function(e){var t=this.getChildById(e);if(t)return this.subviews[t.getAttribute("data-sid")]},V.Cord._scopes.model={observe:function(e,t){"id"===e&&this._addObserver("model",this.model.idAttribute,t)},unobserve:function(e,t){"id"===e&&this._removeObserver("model",this.model.idAttribute,t)},getValue:function(e){return"id"===e?this.model.id:this.model.get(e)},setValue:function(e,t){"id"===e&&(e=this.model.idAttribute),this.model.set(e,t)}},V.Cord.View.prototype._modelObserver=function(e,t){var i,n=t._changed||e.changedAttributes();if(n)for(i in n)n.hasOwnProperty(i)&&this._invokeObservers("model",i,n[i])},V.Cord.View.prototype.model=V.Cord.EmptyModel,V.Cord.View.prototype.setModel=function(e,t){var i,n,r,o;if(this.model===e)return this;if(e||(e=V.Cord.EmptyModel),!(e instanceof V.Model))throw new Error("Attempting to assign a non-Backbone.Model to View.model.");if(n=this.model,this.model=e,this.stopListening(n),this.listenTo(this.model,"change",this._modelObserver),o=this._getObservers("model"),Object.keys(o).length)if(this.model===V.Cord.EmptyModel)for(i in o)o.hasOwnProperty(i)&&this._invokeObservers("model",i,void 0);else this._modelObserver(this.model,{_changed:n.changedAttributes(this.model.attributes)});if(!t)for(i in this.subviews)if(this.subviews.hasOwnProperty(i)){if(r=this.subviews[i],!(r instanceof V.Cord.View))continue;if(r.cascade&&r.cascade(e)===!1)continue;r.model!==n||r.collection||r.setModel(e)}return this},V.Cord.View.prototype.setCollection=function(e){if(this.collection===e)return this;if(e||(e=V.Cord.EmptyCollection),!(e instanceof V.Collection))throw new Error("Attempting to assign a non-Backbone.Collection to View.collection.");return this.stopListening(this.collection),this.collection=e,this};var P=V.Cord.View.extend;V.Cord.View.extend=function(e,t){if(e=e||{},t=t||{},e.mixins){var i=e.mixins;delete e.mixins,i.push(e),e=a.apply(V.Cord,i)}e.vuid=e.vuid||V.Cord.randomUID()+V.Cord.randomUID(),u.call(this,"extend",{protoProps:e,staticProps:t});var n,r,o=e.events;if(o)for(n in o)o.hasOwnProperty(n)&&n.indexOf("#")!==-1&&(r=o[n],delete o[n],n=V.Cord.regex.replaceIdSelectors(n,e.vuid),o[n]=r);return this.prototype.events&&e.events&&(e.events=l(this.prototype.events,e.events)),this.prototype.properties&&e.properties&&(e.properties=l(this.prototype.properties,e.properties)),this.prototype.observers&&e.observers&&(e.observers=l(this.prototype.observers,e.observers)),P.call(this,e,t)};var A=V.Cord.View.prototype._ensureElement;V.Cord.View.prototype._ensureElement=function(){V.Cord._pluginsChecked||(V.Cord.plugins._check(),V.Cord._pluginsChecked=!0);var e=Object.getPrototypeOf(this);"function"==typeof e.collection?this.collection=new e.collection:"function"==typeof e.model&&(this.model=new e.model),this.subviews={},this._observers={},this._callPlugins("create",{});var t;if(this.properties){var i=this.properties;for(t in i)i.hasOwnProperty(t)&&this._synthesizeProperty(t,i[t])}this._createElement=this.createElement.bind(this),"function"==typeof this.el&&V.Cord.config.prefixCreateElement&&(this.el=this.el.bind(this,this._createElement)),this.model!==V.Cord.EmptyModel&&this.listenTo(this.model,"change",this._modelObserver);var n,r=V.Cord._viewContext;V.Cord._viewContext=this;try{n=A.apply(this,arguments)}finally{V.Cord._viewContext=r}if(V.Cord.addClass(this.el,c(this,"className").join(" ")),this.el.setAttribute("data-vuid",this.vuid),this._callPlugins("initialize",{}),this.observers){var o=this.observers;for(t in o)o.hasOwnProperty(t)&&this.observe(t,o[t],!0)}return n};var S=V.Cord.View.prototype.remove;V.Cord.View.prototype.remove=function(){var e;this._callPlugins("remove",{});for(e in this.subviews)this.subviews.hasOwnProperty(e)&&this.subviews[e].remove();return this.subviews=null,this._observers=null,this.trigger("remove",this),S.apply(this,arguments)},V.Cord.Router=V.Router.extend({route:function(e,t,i){return i||(i=t,t=""),("function"==typeof i&&i.prototype instanceof V.View||i instanceof V.View)&&(i=this.createViewCallback(e,i)),V.Router.prototype.route.call(this,e,t,i)},execute:function(e,t){if(V.Cord._executeRouters){if(e){var i=e.apply(this,t);i&&this.container&&(V.Cord.replace(this.rendered,i,this.container),this.rendered=i)}return!1}var n,r,o=V.history,s=o.fragment;V.Cord._executeRouters=!0;try{for(n=0;n<o.handlers.length;++n)r=o.handlers[n],r.route.test(s)&&r.callback(s)}finally{V.Cord._executeRouters=!1}},createViewCallback:function(e,t){var i,n=e.match(/(\(\?)?:\w+/g)||[];for(i=0;i<n.length;++i)n[i]=n[i].substr(1);return function(){var e,i={},r=t;for("function"==typeof t&&t.prototype instanceof V.View&&(r=this.rendered&&Object.getPrototypeOf(this.rendered)===t.prototype?this.rendered:new t),e=0;e<n.length;++e)i[n[e]]=arguments[e];return r.setValuesForKeys(i),r}}})}("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global),function(e){"use strict";var t=e.Cord,i=t.ForceValue;t.mixins.collection={collection:t.EmptyCollection,properties:{length:{readonly:!0,value:0},start:function(e,t,i){var n=0;return t>0&&(n=t),n>e&&(n=e),i||(n=0),n},end:function(e,t,i,n){var r=t-1;return n>0&&(r=e+n-1),r>=t&&(r=t-1),n||(r=-1),r},more:function(e,t){return t-(e+1)},pageStart:{set:function(e){this._pageStart=e,this._onResetCollection()},value:0},pageLength:{set:function(e){this._pageLength=e,this._onResetCollection()},value:-1},selected:{set:function(e){var t;this._selected!==e&&(this._selected=e,this.setModel(e),this.trigger("select",e),t=this.itemViews._selected,t&&(t.selected=!1),e?(t=this.itemViews[e.cid],this.itemViews._selected=t,t.selected=!0):delete this.itemViews._selected)},value:null}},initialize:function(){this.setCollection(this.collection,!0)},remove:function(){this._removeAllItems()},setCollection:function(e,i){(this.collection!==e||i)&&(e&&(this.listenTo(e,"add",this._onAddItem),this.listenTo(e,"remove",this._onRemoveItem),this.listenTo(e,"sort",this._onSortCollection),this.listenTo(e,"reset",this._onResetCollection)),t.setImmediate(this._onResetCollection.bind(this)))},getCollectionContainer:function(){return this.getChildById(t.config.collectionContainerId)||this.el},createItemView:function(e){var t=new this.itemView({model:e});if(t.sid)throw new Error("Item views cannot be passed or created through the subview() method.");return this.listenTo(t,"select",function(e){this.selected=e.model}),this.listenTo(t,"remove",function(e){this.collection.remove(e.model,{viewRemoved:!0})}),this.itemViews[t.model.cid]=t,t},getItemView:function(e){var t,i;if(i=e.cid,"number"==typeof e){var n=this.collection.at(e);n&&(i=n.cid)}else if(e.nodeType===Node.ELEMENT_NODE)for(t in this.itemViews)if(this.itemViews.hasOwnProperty(t)&&this.itemViews[t].el===e){i=t;break}return i?this.itemViews[i]:void 0},_removeAllItems:function(){var e,t;if(this.itemViews){delete this.itemViews._first,delete this.itemViews._selected;for(e in this.itemViews)this.itemViews.hasOwnProperty(e)&&(t=this.itemViews[e],this.stopListening(t),t.remove())}this.itemViews={},this.selected=null},_onAddItem:function(e,t,n){var r,o,s,l;this.length=new i(t.length),o=this.getCollectionContainer(),o&&(l=void 0===n.index?this._length-1:n.index,l<this._start||l>this._end||(l-=this._start,this._end-this._start+1===this._pageLength&&o.removeChild(o.lastChild),r=this.createItemView(e),l===this._end?o.appendChild(r.el):(s=this.itemViews[t.at(this._start+l+1).cid].el,s.parentNode.insertBefore(r.el,s)),0===l&&(this.itemViews._first=r)))},_onRemoveItem:function(e,t,n){var r,o,s=this._more;this.length=new i(t.length),o=this.getCollectionContainer(),o&&(this._selected===e&&(this.selected=null),r=this.itemViews[e.cid],r&&(delete this.itemViews[e.cid],this.stopListening(r),n.viewRemoved||r.remove(),n.index>=this._start&&n.index<=this._end&&s&&(r=this.createItemView(t.at(this._end)),o.appendChild(r.el)),t.length?this.itemViews._first=this.itemViews[t.at(this._start).cid]:delete this.itemViews._first))},_onSortCollection:function(){var e,t,i,n,r,o;if(o=this.getCollectionContainer(),o&&this._length)if(0===this._start&&this._end===this._length-1){for(r=this.itemViews._first.el,e=0;e<this._length;++e)i=this.collection.at(e),n=this.itemViews[i.cid],o.insertBefore(n.el,r),r=n.el.nextSibling;this.itemViews._first=this.itemViews[this.collection.at(0).cid]}else{var s={},l=Object.keys(this.itemViews);for(e=0;e<l.length;++e)s[l[e]]=!0;for(s._first=!1,s._selected=!1,e=this._start;e<=this._end;++e)t=this.collection.at(e).cid,this.itemViews[t]?s[t]=!1:this.itemViews[t]=this.createItemView(this.collection.at(e));for(t in s)s.hasOwnProperty(t)&&s[t]&&(n=this.itemViews[t],this._selected===n.model&&(this.selected=null),delete this.itemViews[t],this.stopListening(n),n.remove());for(e=this._start;e<=this._end;++e)n=this.itemViews[this.collection.at(e).cid],o.appendChild(n.el);this.itemViews._first=this.itemViews[this.collection.at(this._start).cid]}},_onResetCollection:function(){var e,t,n,r;if(this._removeAllItems(),this.length=new i(this.collection.length),r=this.getCollectionContainer(),r&&this._length){for(n=document.createDocumentFragment(),e=this._start;e<=this._end;++e)t=this.createItemView(this.collection.at(e)),e===this._start&&(this.itemViews._first=t),n.appendChild(t.el);r.appendChild(n)}}},t.plugins.push({name:"collection",requirements:["computed"],config:{collectionContainerId:"container"}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e){this.listenTo(e,"request",function(){this.syncProgress=new l(0),this.syncing=new l((!0)),this.syncError=new l(null)}),this.listenTo(e,"sync",function(){this.syncProgress=new l(1),this.syncing=new l((!1)),this.syncError=new l(null)}),this.listenTo(e,"error",function(e,t,i){this.syncProgress=new l(1),this.syncing=new l((!1)),this.syncError=new l(r.parseError(t,i))})}function i(e){e.lengthComputable&&(this.syncProgress=new l(e.loaded/e.total))}function n(n,r,o){this.__syncListening||(this.__syncListening=!0,t.call(this,this));var s=o.xhr||e.$.ajaxSettings&&e.$.ajaxSettings.xhr||function(){return new window.XMLHttpRequest},l=i.bind(this);o.xhr=function(){var e=s();return e.addEventListener("progress",l),e.upload.addEventListener("progress",l),e}}var r=e.Cord,o=e.Model,s=e.Collection,l=r.ForceValue;r.parseError=r.parseError||function(e){return e.status};var a=o.prototype.sync;o.prototype.sync=function(){return n.apply(this,arguments),a.apply(this,arguments)};var c=s.prototype.sync;s.prototype.sync=function(){return n.apply(this,arguments),c.apply(this,arguments)},r.mixins.syncing={properties:{syncing:{value:!1,readonly:!0},syncProgress:{value:0,readonly:!0},syncError:{value:null,readonly:!0}},_initSyncingProperties:function(e){e&&(this.syncing=new l(e.syncing),this.syncProgress=new l(e.syncProgress),this.syncError=new l(e.syncError),t.call(this,e))},setModel:function(e){this._initSyncingProperties(e)},setCollection:function(e){this._initSyncingProperties(e)}}}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";var t=e.Cord,i=e.Model,n=t.EmptyModel,r=t.ForceValue,o={url:/^(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i,ip:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,slug:/^[a-z0-9-]+$/i,username:/^[a-z0-9_@\-\+\.]{3,150}$/i,color:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i};t.validate=function(e,t){var n,r,s,l=t.type.split(" ")[0];if(null===e||""===e&&"string"===t.type)return!t.required||"required";if("string"===l&&"string"!=typeof e||"date"===l&&!(e instanceof Date)||"int"===l&&(+e!==e||e%1!==0)||"float"===l&&"number"!=typeof e||"bool"===l&&"boolean"!=typeof e||"array"===l&&!Array.isArray(e)||"model"===l&&!(e instanceof i))return"type";if(null!==t.equals&&void 0!==t.equals){if(Array.isArray(t.equals)){if(t.equals.indexOf(e)===-1)return"equals"}else if("object"==typeof t.equals){if(void 0===t.equals[e])return"equals"}else if(e!==t.equals)return"equals"}else if("string"===t.type){if(t.min&&e.length<t.min)return"min";if(t.max&&e.length>t.max)return"max";if(t.format)for(s=Array.isArray(t.format)?t.format:[t.format],n=0;n<s.length;++n)if(r=s[n],"string"==typeof r&&(r=o[r]),"function"==typeof r&&!r(e)||r instanceof RegExp&&!r.test(e))return"format"}else{if(t.min&&e<t.min)return"min";if(t.max&&e>t.max)return"max"}return!0},t.parseValidationError=function(e,t,i,n){var r="string"===t.type?"The length of ":"";switch(i){case"required":return n+" is required";case"min":return r+n+" must be greater than or equal to "+t.min;case"max":return r+n+" must be less than or equal to "+t.max;default:return n+" is not valid"}},t.mixins.validation={errors:n,properties:{allErrors:{readonly:!0},latestError:{readonly:!0},isValid:function(e){return!e||!e.length}},initialize:function(){this.errors=new i,this.listenTo(this.errors,"change",function(e){var t,i=e.changedAttributes();if(i)for(t in i)i.hasOwnProperty(t)&&this._invokeObservers("errors",t,i[t])}),this._addInvalidListener(this.model)},setModel:function(e){this._addInvalidListener(e)},_addInvalidListener:function(e){e!==n&&this.listenTo(e,"invalid",this._onInvalid)},_onInvalid:function(e,i){var n,o,s,l,a;for(n in i)i.hasOwnProperty(n)&&(l="format"===i[n]&&this.model.formats&&this.model.formats[n]?this.model.formats[n]:t.parseValidationError(this.model.get(n),this.model.rules[n],i[n],this.model.titles[n]||"This field",n),this.errors.set(n,l));a=this.model.changedAttributes();for(n in a)a.hasOwnProperty(n)&&!i.hasOwnProperty(n)&&this.errors.unset(n);s=[],o=this.errors.attributes;for(n in o)o.hasOwnProperty(n)&&s.push(o[n]);this.allErrors=new r(s),this.latestError=new r(l)},_onValid:function(){this._onInvalid(this.model,[])}},t.mixins.validateOnBlur={initialize:function(){this._addBlurListener(this.model)},setModel:function(e){this._addBlurListener(e)},_addBlurListener:function(e){e!==n&&e.listen("change",function(){this.model.validate(this.model.changedAttributes())&&this._onValid(this.model,[])})}},t.mixins.validateOnSubmit={events:{"submit form":function(){return!!this.model.isValid()&&void this._onValid(this.model,[])}}},i.prototype.validate=function(e){var i,n,r,o={};for(i in e)e.hasOwnProperty(i)&&(n=this.rules[i],n&&(null===n.equals&&void 0===n.equals&&(n.equals=this.choices&&this.choices[i]),r=t.validate(e[i],n),r!==!0&&(o[i]=r)));if(this.extendedValidate&&this.extendedValidate(o),Object.keys(o).length)return o},t.Validation={formats:o},t.plugins.push({name:"validation",scope:{namespace:"errors",observe:function(){},unobserve:function(){},getValue:function(e){return this.errors.get(e)},setValue:function(){}}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e){var t,i=e.changedAttributes();if(i)for(t in i)i.hasOwnProperty(t)&&this._invokeObservers("shared",t,i[t])}var i=e.Cord;i.SharedScope={model:new e.Model};var n=i.SharedScope.model;i.plugins.push({name:"sharedscope",scope:{namespace:"shared",observe:function(){this._hasObservers("shared")||this.listenTo(n,"change",t)},unobserve:function(){this._hasObservers("shared")||this.stopListening(n,"change",t)},getValue:function(e){return n.get(e)},setValue:function(e,t){n.set(e,t)}}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e,t){var i=function(t){var i,n=t.changedAttributes();if(n)for(i in n)n.hasOwnProperty(i)&&this._invokeObservers(e,i,n[i])};return{namespace:e,model:t,observe:function(){this._hasObservers(e)||this.listenTo(t,"change",i)},unobserve:function(){this._hasObservers(e)||this.stopListening(t,"change",i)},getValue:function(e){return t.get(e)},setValue:function(e,i){t.set(e,i)}}}var i=e.Cord,n=i._scopes;i.UnmanagedScopes={set:function(e,i){if(e=e.toLowerCase(),n[e])throw new Error("Attempting to override an existing scope.");n[e]=t(e,i)}},i.plugins.push({name:"unmanagedscopes"})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e,t){return f[t]?function(i,n){"innerHTML"!==t?a(e,n):e[t]=l(n)}:function(i,n){
e.setAttribute(t,l(n))}}function i(e){return function(t,i){e.textContent=l(i)}}function n(e){var t=e.getAttribute(p);return t&&t===g?(g=null,!0):(g=t,!1)}function r(e){return function(t,i){n(e)||a(e,i)}}function o(e,t){return function(){n(e)||this.setValueForKey(t,c(e))}}var s=e.Cord,l=s.convertToString,a=s.encodeValue,c=s.decodeValue,u=s.randomUID,h=s.setImmediate,d=s.regex,f={innerHTML:!0,value:!0,checked:!0},p="data-binding",g=null;e.Cord.plugins.push({name:"binding",requirements:["interpolation"],attrs:function(e,i){var n,s,l;if(e.isView){for(var a in i)i.hasOwnProperty(a)&&(n=i[a],"string"==typeof n&&n.match(d.variableSearch)&&(this.observeFormat(n,t(e.el,a),!0),delete i[a]));i.dangerouslySetInnerHTML&&("string"==typeof i.dangerouslySetInnerHTML?this.observe(i.dangerouslySetInnerHTML,t(e.el,"innerHTML"),!0):i.dangerouslySetInnerHTML.__html&&(e.el.innerHTML=i.dangerouslySetInnerHTML.__html),delete i.dangerouslySetInnerHTML),i.bind&&(i.observe=i.bind,i.change=i.bind,delete i.bind),i.observe&&(i.observe!==i.change&&i.observe!==i.input||(l=!0,i[p]="binding-"+u()),this.observe(i.observe,r(e.el),!0),delete i.observe),i.change&&(s=o(e.el,i.change).bind(this),e.el.addEventListener("change",s),delete i.change),i.input&&(s=o(e.el,i.input).bind(this),e.el.addEventListener("input",s),delete i.input),s&&!l&&h(s)}},children:function(e,t){var n,r,o,s,l,a,c;if(e.isView)for(n=t.length-1;n>=0;--n)if(o=t[n],"string"==typeof o&&(s=o.split(d.variableSearch),s.length>1)){for(a=[n,1],l=o.match(d.variableSearch),r=0;r<l.length;++r)s[r].length&&a.push(document.createTextNode(s[r])),c=document.createTextNode(""),this.observe(d.variableValue.exec(l[r])[1],i(c),!0),a.push(c);s[r].length&&a.push(document.createTextNode(s[r])),Array.prototype.splice.apply(t,a)}}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e,t){return function(i,n){var o=r(n);o?s(e,t):l(e,t)}}function i(e){var t="";return function(i,n){l(e,t),t=o(n),s(e,t)}}var n=e.Cord,r=n.convertToBool,o=n.convertToString,s=n.addClass,l=n.removeClass,a=n.regex;n.plugins.push({name:"classes",requirements:["interpolation"],classes:function(e,n){var r;if(e.isView)for(var o=n.length-1;o>=0;--o)if(r=n[o].match(a.conditionalValue)){var s=e.el,l=n[o].substr(0,r.index),c=r[1];this.observe(c,t(s,l),!0),n.splice(o,1)}else n[o].search(a.variableSearch)!==-1&&(this.observeFormat(n[o],i(e.el),!0),n.splice(o,1))}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e){var t=e.toString(),i=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(/([^\s,]+)/g);return i||(i=[]),i}function i(){var e,t,i,n,r=this.changedAttributes(),s={};for(n in r)if(r.hasOwnProperty(n)&&this._computedArgs[n])for(i=this._computedArgs[n],e=0;e<i.length;++e)t=i[e],s[t]||(s[t]=this.get(t),this.trigger("change:"+t,this,s[t],{}));o.setImmediate(function(){this.changed=s,this.trigger("change",this,{})}.bind(this),0)}function n(e,t){return function(){var i,n=[];for(i=0;i<t.length;++i)n.push(this.get(t[i]));return e.apply(this,n)}}function r(e,t,i){return function(){var n,r=[];for(n=0;n<i.length;++n)r.push(this.getValueForKey(i[n]));this[e]=new o.ForceValue(t.apply(this,r))}}var o=e.Cord,s=e.Model;s.prototype._addComputed=function(e,r){var o,s,l,a=t(r);for(this._computed||(this._computed={},this._computedArgs={},o=this.get,this.get=function(e){var t=this._computed[e];return t?t.call(this):o.call(this,e)},this.listenTo(this,"change",i)),this._computed[e]=n(r,a),s=0;s<a.length;++s)l=a[s],this._computedArgs[l]||(this._computedArgs[l]=[]),this._computedArgs[l].push(e)};var l=s.extend;s.extend=function(e){var t;return e.computed&&(t=e.initialize||s.prototype.initialize,e.initialize=function(){if(this.computed)for(var e in this.computed)this.computed.hasOwnProperty(e)&&this._addComputed(e,this.computed[e]);return t.apply(this,arguments)}),l.apply(this,arguments)},o.plugins.push({name:"computed",extend:function(e){var i,n,r;if(i=e.protoProps.properties)for(n in i)i.hasOwnProperty(n)&&(r=i[n],"function"==typeof r&&t(r).length?i[n]={get:r,readonly:!0}:o.isPlainObj(r)&&r.get&&t(r.get).length&&(r.readonly=!0))},initialize:function(){if(this.properties){var e,i,n,o,s;for(e in this.properties)if(this.properties.hasOwnProperty(e)&&(i=Object.getOwnPropertyDescriptor(this,e),i&&i.get&&(n=t(i.get),n.length)))for(s=r(e,i.get,n),Object.defineProperty(this,e,{get:this._synthesizeGetter(e)}),o=0;o<n.length;++o)this.observe(n[o],s,0===o)}}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e){return function(t){e.apply(this,arguments)===!1&&(t.preventDefault(),t.stopPropagation())}}function i(e,i){for(var n in i)if("on"===n.substr(0,2)&&i.hasOwnProperty(n)){var r="string"==typeof i[n]?this[i[n]]:i[n];"function"==typeof r&&(e.isView&&(r=r.bind(this)),e.el.addEventListener(n.substr(2).toLowerCase(),t(r))),delete i[n]}}var n=e.Cord;n.View.prototype.focus=function(e){var t=e?this.getChildById(e):this.el;t.getAttribute("tabindex")||(t.setAttribute("tabindex",-1),t.style.outline="none"),t.focus()},n.plugins.push({name:"events",attrs:i,bindings:i})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e){var t=null;return function(i,n){var r=o(n);null===t&&(t=e.style.display),e.style.display=r?"none":t}}function i(e){return function(t,i){e.style.visibility=o(i)?"hidden":"visible"}}function n(e,n){e.isView&&(n.hidden&&(this.observe(n.hidden,t(e.el),!0),delete n.hidden),n.invisible&&(this.observe(n.invisible,i(e.el),!0),delete n.invisible))}var r=e.Cord,o=r.convertToBool;r.plugins.push({name:"hidden",attrs:n,bindings:n})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e,t,i){return function(n){var r,o,s=[];for(r=0;r<t.length;++r)s.push(e[r]),o=t[r],s.push(this.getValueForKey(o));s.push(e[r]),i.call(this,n,s.join(""))}}var i=e.Cord,n=i.regex;i.View.prototype.observeFormat=function(e,i,r){var o=e.split(n.variableSearch),s=e.match(n.variableSearch);if(s)if(1===s.length&&s[0]===e)this.observe(n.variableValue.exec(s[0])[1],i,r);else{var l,a={};for(l=0;l<s.length;++l)s[l]=n.variableValue.exec(s[l])[1];for(l=0;l<s.length;++l)a[s[l]]||(this.observe(s[l],t(o,s,i),r),a[s[l]]=!0,r=!1)}},i.plugins.push({name:"interpolation"})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e,i,n){var r,o,s,l;if(!i)return e.appendChild(n),n;if(!n)return e.removeChild(i),null;if(i.nodeType!==n.nodeType||i.nodeName!==n.nodeName)return e.replaceChild(n,i),n;if(i.nodeType===Node.TEXT_NODE&&i.textContent!==n.textContent)return i.textContent=n.textContent,i;if(i.attributes){for(r=0;r<i.attributes.length;++r)o=i.attributes[r],n.hasAttribute(o.name)||i.removeAttributeNode(o);for(r=n.attributes.length-1;r>=0;--r)i.setAttributeNode(n.removeAttributeNode(n.attributes[r]))}for(s=Array.prototype.slice.call(n.childNodes),r=0;r<s.length;++r)t(i,i.childNodes[r],s[r]);if(l=i.childNodes.length-s.length,l>0)for(r=0;r<l;++r)i.removeChild(i.lastChild);return i}function i(e,i){var n,r,o,s=e.childNodes;for(i=i||[],r=Math.min(s.length,i.length),n=0;n<r;++n)t(e,s[n],i[n]);if(i.length>r){for(o=document.createDocumentFragment(),n=r;n<i.length;++n)o.appendChild(i[n]);e.appendChild(o)}else if(s.length>r)for(r=s.length-r,n=0;n<r;++n)e.removeChild(e.lastChild);return e}function n(e){var t;return function(){t||(t=r.setImmediate(function(){e()}))}}var r=e.Cord,o=e.Cord.config;r.DOM={updateNode:t,updateChildren:i},r.Component=r.View.extend({constructor:function(){var e=this.render,t=!0;this.render=function(){this.props=arguments[0],t&&this.componentWillMount?this.componentWillMount():this.componentWillUpdate&&this.componentWillUpdate();var i=e.apply(this,arguments);return t&&this.componentDidMount?this.componentDidMount():this.componentDidUpdate&&this.componentDidUpdate(),t=!1,i}},remove:function(){this.componentWillUnmount&&this.componentWillUnmount(),this.componentDidUnmount&&r.setImmediate(this.componentDidUnmount.bind(this))},setState:function(e){"function"==typeof e&&(e=e.call(this)),this.setValuesForKeys(e),this.render()}}),r.plugins.push({name:"render",config:{renderContainerId:"container"},requirements:["events"],initialize:function(){if(this.render!==e.View.prototype.render){var t,s,l=o.prefixCreateElement?this.render.bind(this,this._createElement):this.render,a=this.observe,c={};this.render=function(){var e,o,u,h=this.getChildById(r.config.renderContainerId)||this.el,d=!h.children.length;for(e in c)c.hasOwnProperty(e)&&this.unobserve(e,c[e]);c={},arguments.length&&(s=Array.prototype.slice.call(arguments)),t=n(this.render.bind(this)),this.observe=function(e,i){d?a.call(this,"%"+e,i):i.call(this,e,this.getValueForKey(e)),c[e]||a.call(this,e,c[e]=t)},this.createSubview=function(){console.error("Subviews not allowed inside render()")},u=r._viewContext,r._viewContext=this;try{o=l.apply(this,s)||[],o instanceof Array||(o=[o])}finally{delete this.observe,delete this.createSubview,r._viewContext=u}return i(h,o),this.trigger("render",this),this}}},attrs:function(e,t){t.ref&&(r.setImmediate(t.ref.bind(this,e.el)),delete t.ref)},bindings:function(e,t){t.render&&(e.renderArgs=t.render,delete t.render)},complete:function(t){t.subview&&t.subview.render!==e.View.prototype.render&&t.subview.render(t.renderArgs)}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(){var e,t;for(t in j)j.hasOwnProperty(t)&&(e=document.createElement("style"),e.type="text/css",j[t]&&(e.media=j[t]),e.appendChild(document.createTextNode("")),document.head.appendChild(e),E[t]=e.sheet)}function i(e,t){return void 0===document.documentElement.style[e]?t?S:P:""}function n(e){var t=i(e);return t?t+e[0].toUpperCase()+e.substr(1):e}function r(e){var t=e.toLowerCase();return!A||Element.prototype.hasOwnProperty("on"+t)?t:A+e}function o(e){var t,i,n=0,r=[];for(t=0;t<e.length;++t)i=e.charCodeAt(t),i>=65&&i<=90&&t&&(r.push(e.substring(n,t).toLowerCase()),n=t);return r.push(e.substring(n,t).toLowerCase()),r.join("-")}function s(e,t,n,r,l,a){var c,u,h,d,f,p;l=l||"all",u=E[l];for(c in t)if(t.hasOwnProperty(c))if("object"==typeof t[c]){if(d=f=null,p=">",h=c,0===h.indexOf(y.mediaQueryPrefix)&&(d=h.substr(y.mediaQueryPrefix.length),!j[d]))return;if(!d){if(h.indexOf(",")!==-1){for(var g=h.split(","),v={},b=0;b<g.length;++b)v[g[b].trim()]=t[c];s(e,v,n,r,l,a);continue}":+~>".indexOf(h[0])!==-1?(p=h[0],h=h.substr(1)):0===h.indexOf(y.allSelectorPrefix)?(p=" ",h=h.substr(y.allSelectorPrefix.length)):0===h.indexOf(y.parentSelectorPrefix)&&(p="",h=h.substr(y.parentSelectorPrefix.length)),"#"===h[0]&&(f=h.substr(1)),f&&!m.testIdProperty(f,!0)&&(f=null)}d?s(e,t[c],n,r,d):f?s(e,t[c],n,r+p+m.replaceIdSelectors("#"+f,e),l,f):s(e,t[c],n,r+p+m.replaceIdSelectors(h,e),l)}else{var w=t[c].toString();if(w.search(m.variableSearch)!==-1){var C=a||V;n[C]||(n[C]={}),n[C][c]=w}else{var x=r+"{"+i(c,!0)+o(c)+":"+w+";}";_("@"+l,x),u.insertRule(x,u.cssRules.length)}}}function l(e,t){var n,r,s,l,a,c,u,h,d,f=E.animations;for(n in t)if(t.hasOwnProperty(n)){if(r=t[n],Array.isArray(r)){for(1===r.length&&r.unshift({}),l=r,r={},a=100/(l.length-1),c=0;c<l.length;++c)r[Math.ceil(a*c)+"%"]=l[c];t[n]=r}if(w(r)){if(r.name)continue;u="";for(s in r)if(r.hasOwnProperty(s)&&"options"!==s&&"aliases"!==s){u+=s+"{",d=r[s];for(h in d)d.hasOwnProperty(h)&&(u+=i(h,!0)+o(h)+":"+d[h]+";");u+="}"}e?r.name=n+"-"+e:r.name=n,u=T+r.name+"{"+u+"}",_(u),f.insertRule(u,f.cssRules.length)}}}function a(e,t){return t=n(t),function(i,n){e.style[t]=C(n)}}function c(e,t){var i=t.style;if(i&&("string"==typeof i&&e.isView&&this[i]&&(i=this[i]),"object"==typeof i)){for(var r in i)i.hasOwnProperty(r)&&(i[r].match(m.variableSearch)&&e.isView?this.observeFormat(i[r],a(e.el,r),!0):e.el.style[n(r)]=i[r]);delete t.style}}function u(e,t){var i,n,r,o,s,l=e.split(/: */);for(l.length>1?(o=l[1].split(/, */),s=this.el.querySelectorAll(m.replaceIdSelectors(l[0].trim(),this.vuid))):(o=l[0].split(/, */),s=[this.el]),i=0;i<o.length;++i)n=o[i],r=this.animations[n]||I[n]||{name:n},o[i]=r.name,r.options&&(t=v(r.options,t));return{animations:o,elements:s,options:t}}function h(e,t){for(var i=e.split(/, */),n=[],r=0;r<i.length;++r)t.indexOf(i[r])!==-1&&n.push(r);return n.length===i.length||n}function d(e,t){return t===!0?"":e.split(/, */).filter(function(e,i){return t.indexOf(i)===-1}).join(",")}function f(e,t,i){var n,r=e.split(/, */);if(t===!0)for(n=0;n<r.length;++n)r[n]=i;else for(n=0;n<t.length;++n)r[t[n]]=i;return r.join(",")}var p=e.Cord,g=p.View,y=p.config,m=p.regex,v=p.mixObj,b=p.copyObj,w=p.isPlainObj,C=p.convertToString,_=p.log,V="(this)",x=navigator.userAgent.toLowerCase(),O=(/(chrome|safari)/.exec(x)||/firefox/.exec(x)||/msie/.exec(x)||/trident/.exec(x)||/opera/.exec(x)||"")[0],P={chrome:"webkit",firefox:"Moz",msie:"ms",opera:"O",safari:"webkit",trident:"ms"}[O]||"",A={chrome:"webkit",opera:"webkit",safari:"webkit"}[O]||"",S="-"+P.toLowerCase()+"-",E={},I={},j={all:"",animations:"",hd:"only screen and (max-width: 1200px)",desktop:"only screen and (max-width: 992px)",tablet:"only screen and (max-width: 768px)",phablet:"only screen and (max-width: 480px)",mobile:"only screen and (max-width: 320px)"},T="@"+i("animationName",!0)+"keyframes ",k={duration:"250ms",delay:"0",timing:"ease",count:"1",direction:"normal",fill:"none",state:"running",interactive:!0},L=n("animationName"),M=n("animationDelay"),q=n("animationDirection"),N=n("animationDuration"),F=n("animationIterationCount"),B=n("animationTimingFunction"),D=n("animationFillMode"),K=n("animationPlayState"),z=n("transitionDelay"),R=n("transitionDuration"),U=n("transitionProperty"),$=n("transitionTimingFunction"),H=r("AnimationIteration"),G=r("AnimationEnd"),W=r("TransitionEnd");g.prototype.beginAnimation=function(e,t,i){var n,r,o,s,l,a,c,h,d,f,p,g;if(t&&"function"!=typeof t||(i=t,t={}),Array.isArray(e)){for(c=1;c<e;++c)this.beginAnimation(e[c],t);e=e[0]}if(n=u.call(this,e,t),r=n.animations,l=n.elements,!l.length)return this;for(t=v(k,n.options),s=t.interactive?"":"none",c=0;c<l.length;++c)for(a=l[c],o=a.style[L]?",":"",h=0;h<r.length;++h)a.style[M]+=o+t.delay,a.style[q]+=o+t.direction,a.style[N]+=o+t.duration,a.style[F]+=o+t.count,a.style[B]+=o+t.timing,a.style[D]+=o+t.fill,a.style[K]+=o+t.state,a.style[L]+=o+r[h],a.style.pointerEvents=s,o=",";return parseInt(t.count)>1&&i&&(d=0,f=function(n){n.target===n.currentTarget&&(d+=1,i.call(this,d,e,t)===!1&&this.pauseAnimation(e))}.bind(this),l[0].addEventListener(H,f)),p="infinite"!==t.count&&"none"===t.fill,g=function(n){n.target===n.currentTarget&&(f&&n.target.removeEventListener(H,f),n.target.removeEventListener(G,g),p&&this.cancelAnimation(e),i&&i.call(this,-1,e,t))}.bind(this),l[0].addEventListener(G,g),this},g.prototype._updateAnimation=function(e,t,i){var n,r,o,s,l,a,c;if(n=u.call(this,e),r=n.animations,o=n.elements,!o.length)return this;for(l=0;l<o.length;++l)s=o[l],s.style[L]!==a&&(a=s.style[L],c=h(s.style[L],r)),s.style[t]=f(s.style[t],c,i);return this},g.prototype.pauseAnimation=function(e){return this._updateAnimation(e,K,"paused")},g.prototype.resumeAnimation=function(e){return this._updateAnimation(e,K,"running")},g.prototype.cancelAnimation=function(e){var t,i,n,r,o,s,l;if(t=u.call(this,e),i=t.animations,n=t.elements,!n.length)return this;for(o=0;o<n.length;++o)r=n[o],r.style[L]!==s&&(s=r.style[L],l=h(r.style[L],i)),r.style[M]=d(r.style[M],l),r.style[q]=d(r.style[q],l),r.style[N]=d(r.style[N],l),r.style[F]=d(r.style[F],l),r.style[B]=d(r.style[B],l),r.style[D]=d(r.style[D],l),r.style[K]=d(r.style[K],l),r.style[L]=d(r.style[L],l),r.style.pointerEvents="";return this},g.prototype.beginTransition=function(e,t,r,s){var l,a,c,u,f,p;if(w(e)&&(s=r,r=t,t=e,e=null),"function"==typeof r&&(s=r,r={}),r=v(k,r),l=e?this.el.querySelectorAll(m.replaceIdSelectors(e,this.vuid)):[this.el],!l.length)return this;for(a=0;a<l.length;++a){c=l[a],u=c.style[U]?",":"";for(f in t)t.hasOwnProperty(f)&&(c.style[z]+=u+r.delay,c.style[R]+=u+r.duration,c.style[U]+=u+i(f,!0)+o(f),c.style[$]+=u+r.timing,c.style[n(f)]=t[f],u=",")}return p=function(n){var a,c,u,f,g;if(n.target===n.currentTarget){for(n.target.removeEventListener(W,p),u=Object.keys(t).map(function(e){return i(e,!0)+o(e)}),a=0;a<l.length;++a)c=l[a],c.style[U]!==f&&(f=c.style[U],g=h(c.style[U],u)),c.style[z]=d(c.style[z],g),c.style[R]=d(c.style[R],g),c.style[U]=d(c.style[U],g),c.style[$]=d(c.style[$],g);s&&s.call(this,e,t,r)}}.bind(this),l[0].addEventListener(W,p),this},g.prototype.applyStyles=function(e,t){var i,r,o,s;if(w(e)&&(t=e,e=null),i=e?this.el.querySelectorAll(m.replaceIdSelectors(e,this.vuid)):[this.el],!i.length)return this;for(r=0;r<i.length;++r){o=i[r];for(s in t)t.hasOwnProperty(s)&&(o.style[n(s)]=t[s])}return this},g.prototype.clearStyles=function(e,t){w(e)&&(t=e,e=null),t=b(t);for(var i in t)t.hasOwnProperty(i)&&(t[i]="");return this.applyStyles(e,t),this};var Q={"0%":"from",from:"0%","100%":"to",to:"100%"};g.prototype.getKeyframe=function(e,t,i){var n,r,o;e=this.animations[e]||I[e],t=t||"0%",n=e.aliases||{},o=e[t]||e[Q[t]||n[t]],o=b(o);for(r in o)0===r.indexOf("animation")&&o.hasOwnProperty(r)&&delete o[r];if(i)for(r in o)o.hasOwnProperty(r)&&(o[r]="");return o},g.prototype.beginKeyframeTransition=function(e,t,i,n,r){var o;if((this.animations[e]||I[e])&&(r=n,n=i,i=t,t=e,e=null),"string"!=typeof i&&(r=n,n=i,i=null),"function"==typeof n&&(r=n,n={}),i=i||"0%",o=this.getKeyframe(t,i),!e){var s=this._appliedKeyframes[t];s&&(o=v(this.getKeyframe(t,s,!0),o)),this._appliedKeyframes[t]=i}return this.beginTransition(e,o,n,r)},g.prototype.applyKeyframe=function(e,t,i){return(this.animations[e]||I[e])&&(i=t,t=e,e=null),i=i||"0%",e||(this._appliedKeyframes[t]=i),this.applyStyles(e,this.getKeyframe(t,i))},g.prototype.clearKeyframe=function(e,t,i){return(this.animations[e]||I[e])&&(i=t,t=e,e=null),i=i||"0%",e||(i=this._appliedKeyframes[t],delete this._appliedKeyframes[t]),this.clearStyles(e,this.getKeyframe(t,i))},p.Styles={userAgent:x,browser:O,addStylePrefix:n,addEventPrefix:r,getCSSPrefix:function(e){return i(e,!0)},camelCaseToDash:o,animations:I,mediaQueries:j,addAnimation:function(e,t){var i;w(e)?i=e:(i={},i[e]=t),l(null,i),I=v(I,i)}},p.plugins.push({name:"styles",requirements:["interpolation"],config:{mediaQueryPrefix:"@",parentSelectorPrefix:"&",allSelectorPrefix:"$"},attrs:c,bindings:c,extend:function(e){var i,n={};(e.protoProps.styles||e.protoProps.animations)&&(e.protoProps.className||(e.protoProps.className="view-"+e.protoProps.vuid),Object.keys(E).length||t(),i=p.getPrototypeValuesForKey(this,"className",!0),i.push(e.protoProps.className),i=i.join(" "),e.protoProps.styles&&s(e.protoProps.vuid,e.protoProps.styles,n,"."+i.split(" ").join(".")),e.protoProps.animations&&l(e.protoProps.vuid,e.protoProps.animations)),e.protoProps._styles=n},initialize:function(){if(this._styles&&this._styles[V]){var e=b(this._styles[V]);_(e);for(var t in e)e.hasOwnProperty(t)&&this.observeFormat(e[t],a(this.el,t),!0)}this._appliedKeyframes={}},complete:function(e){if(this._styles&&e.id&&this._styles[e.id]){var t=b(this._styles[e.id]);_(t);for(var i in t)t.hasOwnProperty(i)&&this.observeFormat(t[i],a(e.el,i),!0)}}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";var t="http://www.w3.org/2000/svg",i="http://www.w3.org/1999/xlink",n={animate:1,animateMotion:1,animateTransform:1,circle:1,clipPath:1,"color-profile":1,defs:1,desc:1,discard:1,ellipse:1,feBlend:1,feColorMatrix:1,feComponentTransfer:1,feComposite:1,feConvolveMatrix:1,feDiffuseLighting:1,feDisplacementMap:1,feDistantLight:1,feDropShadow:1,feFlood:1,feFuncA:1,feFuncB:1,feFuncG:1,feFuncR:1,feGaussianBlur:1,feImage:1,feMerge:1,feMergeNode:1,feMorphology:1,feOffset:1,fePointLight:1,feSpecularLighting:1,feSpotLight:1,feTile:1,feTurbulence:1,filter:1,font:1,foreignObject:1,g:1,glyph:1,hatch:1,hatchpath:1,image:1,line:1,linearGradient:1,marker:1,mask:1,metadata:1,mpath:1,path:1,pattern:1,polygon:1,polyline:1,radialGradient:1,rect:1,set:1,solidcolor:1,stop:1,svg:1,"switch":1,symbol:1,text:1,textPath:1,tspan:1,use:1,view:1},r={href:1,show:1,title:1};e.Cord.plugins.push({name:"svg",tag:function(e,i){return n[i]?document.createElementNS(t,i):"svg"===i.substr(0,3)?(i=i.substr(3),i=":"===i[0]?i.substr(1):i[0].toLowerCase()+i.substr(1),document.createElementNS(t,i)):void 0},attrs:function(e,n){var o=e.el;if(o.namespaceURI===t)for(var s in n)n.hasOwnProperty(s)&&(r[s]?(o.setAttributeNS(i,s,n[s]),delete n[s]):"lang"===s&&(o.setAttributeNS(t,s,n[s]),delete n[s]))}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone"));