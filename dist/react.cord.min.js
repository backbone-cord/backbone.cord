!function(e){"use strict";function t(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function n(e){var n=e+"Search",r=e+"Value";return e="_"+e,{get:function(){return this[e]},set:function(o){this[e]=o,this[n]=new RegExp(t(o.prefix)+".*?"+t(o.suffix),"g"),this[r]=new RegExp(t(o.prefix)+"\\s*(.*?)\\s*"+t(o.suffix))}}}function r(e,t){return function(){return e.apply(this,arguments),t.apply(this,arguments)}}function o(e){return e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype}function i(e){var t,n,r={};for(t in e)n=e[t],o(n)&&(n=i(n)),r[t]=n;return r}function s(e){var t,n,r;for(t=1;t<arguments.length;++t){r=arguments[t];for(n in r)e[n]=r[n]}return e}function a(e){var t,n,o,i,s;for(t=1;t<arguments.length;++t){o=arguments[t];for(n in o)i=e[n],s=o[n],"function"==typeof i&&"function"==typeof s?e[n]=r(s,i):e[n]=o[n]}return e}function l(e){var t,n,s,a,u;for("string"==typeof e&&(e=V.mixins[e]||{}),e=i(e),t=1;t<arguments.length;++t){a=arguments[t],"string"==typeof a&&(a=V.mixins[a]||{});for(n in a)s=e[n],u=a[n],o(s)&&o(u)?e[n]=l(s,u):"function"==typeof s&&"function"==typeof u?e[n]=r(s,u):e[n]=u}return e}function u(e,t,n){for(var r=n?e.prototype:Object.getPrototypeOf(e),o=[];r;r=Object.getPrototypeOf(r))r.hasOwnProperty(t)&&o.unshift(r[t]);return o}function c(e){var t=e.toString(),n=t.slice(t.indexOf("(")+1,t.indexOf(")")).match(/([^\s,]+)/g);return n||(n=[]),n}function f(e,t){var n,r;for(t=Array.isArray(t)?t:t.split("."),n=0;n<t.length;++n)r=t[n],e.getValueForKey?(V.scopes[r.toLowerCase()]&&n+1<t.length&&(n+=1,r=r+"."+t[n]),e=e.getValueForKey(r)):e instanceof b.Model?e="id"===r?e.id:e.get(r):e&&(e="value"===r&&e.nodeType===Node.ELEMENT_NODE?V.decodeValue(e):e[r]);return e}function h(e,t,n){var r;t=Array.isArray(t)?t:t.split("."),e=f(e,t.slice(0,-1)),r=t[t.length-1],e.setValueForKey?e.setValueForKey(r,n):e instanceof b.Model?e.set("id"===r?e.idAttribute:r,n):e&&("value"===r&&e.nodeType===Node.ELEMENT_NODE?V.encodeValue(e,n):e[r]=n)}function d(e,t){return function(n,r){for(var o=0;o<t.length;++o)r=t[o](r);return e.call(this,n,r)}}function p(e){return function(t,n){e.call(this,t,!V.convertToBool(n))}}function g(e,t){return function(n,r){return e.call(this,n,f(r,t))}}var b=e.Backbone||require("backbone"),v=e.cordCompatibilityMode,y=e.cordDebug,m=v?b.View.extend({}):b.View,_=v?b.Model.extend({}):b.Model,x=v?b.Collection.extend({}):b.Collection,V=b.Cord={VERSION:"1.0.23",View:m,Model:_,Collection:x,EmptyView:m.extend({tagName:"meta"}),EmptyModel:new(_.extend({set:function(){return this},toString:function(){return""}})),EmptyCollection:new(x.extend({add:function(){return this},reset:function(){return this},set:function(){return this},toString:function(){return""}})),mixins:{},filters:{lower:function(e){return V.convertToString(e).toLowerCase()},upper:function(e){return V.convertToString(e).toUpperCase()},title:function(e){return V.convertToString(e).replace(/\b[^\s-]*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}},decoders:{range:function(e){return parseInt(e.value)},number:function(e){return Number(e.value)},"int":function(e){return parseInt(e.value)},integer:function(e){return parseInt(e.value)},"float":function(e){return parseFloat(e.value)},decimal:function(e){return parseFloat(e.value)},date:function(e){return new Date(e.value)},datetime:function(e){return new Date(e.value)},bool:function(e){return e.checked},checkbox:function(e){return e.checked}},encoders:{date:function(e,t){e.value=t.toDateString()},datetime:function(e,t){e.value=t.toString()},bool:function(e,t){e.checked=V.convertToBool(t)},checkbox:function(e,t){e.checked=V.convertToBool(t)}},decodeValue:function(e){var t=V.decoders[e.getAttribute("data-type")||e.getAttribute("type")];return e.hasAttribute("data-null")&&!e.value?null:t?t(e):e.value},encodeValue:function(e,t){var n=V.encoders[e.getAttribute("data-type")||e.getAttribute("type")];n?n(e,t):e.value=V.convertToString(t);var r=document.createEvent("HTMLEvents");r.initEvent("change",!0,!0),e.dispatchEvent(r),r=document.createEvent("HTMLEvents"),r.initEvent("input",!0,!0),e.dispatchEvent(r)},ForceValue:function(e){this.value=e},convertToString:function(e){return null===e||void 0===e?"":e.toString()},convertToBool:function(e){return!(!e||void 0!==e.length&&!e.length)},convertToNumber:function(e){return Number(e)||0},randomUID:function(){return(Math.floor(65536*(1+Math.random()))^Date.now()%65536).toString(16).substr(1)},randomGUID:function(){var e=V.randomUID;return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},randomCode:function(e){var t="";for(e=e||12;t.length<e;)t+=V.randomUID();return t.substr(0,e)},setImmediate:(e.requestAnimationFrame||e.setTimeout).bind(e),clearImmediate:(e.cancelAnimationFrame||e.clearTimeout).bind(e),hasClass:function(e,t){return(e.getAttribute("class")||"").split(" ").indexOf(t)!==-1},addClass:function(e,t){Array.isArray(t)||(t=t.split(" "));for(var n=0;n<t.length;++n)V.hasClass(e,t[n])||e.setAttribute("class",((e.getAttribute("class")||"")+" "+t[n]).trim())},removeClass:function(e,t){var n,r=(e.getAttribute("class")||"").split(" ");for(Array.isArray(t)||(t=t.split(" ")),n=r.length-1;n>=0;--n)t.indexOf(r[n])!==-1&&r.splice(n,1);e.setAttribute("class",r.join(" "))},scopes:{},parseKeyPath:function(e){var t;return e=e.replace(/__/g,"."),t=e.split("."),1!==t.length&&V.scopes[t[0].toLowerCase()]?t[0]=t[0].toLowerCase():t.unshift("this"),t},regex:{}};Object.defineProperties(V.regex,{variable:n("variable"),conditional:n("conditional")}),V.regex.variable={prefix:"[",suffix:"]"},V.regex.conditional={prefix:"(",suffix:")"},s(V,{isPlainObj:o,copyObj:i,extendObj:s,extendProto:a,mixObj:l,getPrototypeValuesForKey:u,getFunctionArgs:c,log:y?function(){for(var e=[],t=Array.prototype.slice.call(arguments),n=0;n<t.length;++n)e.push("object"==typeof t[n]?"%O":"%s");t.unshift(e.join(" | ")),console.log.apply(console,t)}:function(){}});var w=V.createSetValueCallback=function(e){return function(){this.setValueForKey(e,arguments[arguments.length-1])}};V.Binding={_getObservers:function(e,t,n){var r;return null===this._observers?t?[]:{}:(e=e.toLowerCase(),r=this._observers[e],r||(r={},n&&(this._observers[e]=r)),t&&(r=r[t]?r[t]:n?r[t]=[]:[]),r)},_hasObservers:function(e,t){var n=this._getObservers(e,t);return Array.isArray(n)?!!n.length:!!Object.keys(n).length},_addObserver:function(e,t,n){var r=this._getObservers(e,t,!0);r.push(n)},_removeObserver:function(e,t,n){var r=this._getObservers(e);if(r[t]){var o=r[t].indexOf(n);o!==-1&&(r[t].splice(o,1),r[t].length||delete r[t])}},_invokeObservers:function(e,t,n){V.log(e,t,n);var r,o=this._getObservers(e,t);for(r=0;r<o.length;++r)o[r].call(this,t,n);return this},observe:function(e,t,n){var r,o,i;if("string"==typeof t&&(t=this[t]||w(t)),"function"!=typeof t)return this;if("!"===e[0]&&(e=e.substr(1),t=p(t)),e.indexOf("|")!==-1){var s,a=[],l=e.split("|");for(e=l[0].trim(),s=1;s<l.length;++s)a.push(V.filters[l[s].trim()]||Math[l[s].trim()]);t=d(t,a)}return"%"===e[0]?(e=e.substr(1),t.call(this,null,this.getValueForKey.call(this,e)),this):(r=V.parseKeyPath(e),o=r[0],e=r[1],i=V.scopes[o],r.length>2&&(t=g(t,r.slice(2))),i.observe.call(this,e,t,n),this._addObserver(o,e,t),n&&t.call(this,e,i.getValue.call(this,e)),this)},unobserve:function(e,t){var n,r,o;return"string"==typeof t&&(t=this[t]),t?(n=V.parseKeyPath(e),r=n[0],e=n[1],o=V.scopes[r],this._removeObserver(r,e,t),o.unobserve.call(this,e,t),this):this},stopObserving:function(){var e,t;for(e in this._observers)t=V.scopes[e],t.stop&&t.stop.call(this);this._observers=null},getValueForKey:function(e){var t,n,r;return t=V.parseKeyPath(e),n=V.scopes[t[0]],r=n.getValue.call(this,t[1]),t.length>2&&(r=f(r,t.slice(2))),r},setValueForKey:function(e,t){var n,r;return n=V.parseKeyPath(e),r=V.scopes[n[0]],n.length>2?h(r.getValue.call(this,n[1]),n.slice(2),t):r.setValue.call(this,n[1],t),this},setValuesForKeys:function(e){var t,n;if(o(e))for(n in e)this.setValueForKey(n,e[n]);else for(t=0;t+1<arguments.length;t+=2)this.setValueForKey(arguments[t],arguments[t+1]);return this},model:V.EmptyModel,_modelObserver:function(e,t){var n,r=t._changed||e.changedAttributes();if(r)for(n in r)this._invokeObservers("model",n,r[n])},setModel:function(e){var t,n,r;if(this.model===e)return this;if(e||(e=V.EmptyModel),!(e instanceof b.Model))throw new Error("Attempting to assign a non-Backbone.Model to View.model.");if(n=this.model,this.model=e,this.stopListening(n),this.listenTo(this.model,"change",this._modelObserver),r=this._getObservers("model"),Object.keys(r).length)if(this.model===V.EmptyModel)for(t in r)this._invokeObservers("model",t,void 0);else this._modelObserver(this.model,{_changed:n.changedAttributes(this.model.attributes)});return this},setCollection:function(e){if(this.collection===e)return this;if(e||(e=V.EmptyCollection),!(e instanceof b.Collection))throw new Error("Attempting to assign a non-Backbone.Collection to View.collection.");return this.stopListening(this.collection),this.collection=e,this}},s(m.prototype,V.Binding),V.scopes.model={observe:function(e,t){"id"===e&&this._addObserver("model",this.model.idAttribute,t)},unobserve:function(e,t){"id"===e&&this._removeObserver("model",this.model.idAttribute,t)},getValue:function(e){return"id"===e?this.model.id:this.model.get(e)},setValue:function(e,t){"id"===e&&(e=this.model.idAttribute),this.model.set(e,t)}},"object"==typeof exports&&(module.exports=V)}("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global),function(e){"use strict";function t(e,t){var n=null;return e&&(n=V._boundGUIDs[e]||(V._boundGUIDs[e]=g()),V._boundGUIDProxies[n]=t),n}function n(e){var t,n,r={},o={},i={initialize:"componentWillMount",remove:"componentWillUnmount"};if(e.properties)for(t in e.properties)n=e.properties[t],"function"==typeof n?o[t]=E(n):u(n)?o[t]=n.get?E(n.get):n.value:o[t]=n;for(t in e)n=e[t],"function"==typeof n&&(r[i[t]||t]=n);e.methods=r,e.state=o,e._normalized=!0}function r(e){if(!e.hasAttribute(A))return!1;var t=e.getAttribute(O);return t&&t===w?(w=null,!0):(w=t,!1)}function o(e,t,n){var o=document.body.querySelector("["+O+'="'+e+'"]');o&&!r(o)&&d(o,n)}function i(e,t){return function(n){var o=n.currentTarget;r(o)||(this.setValueForKey(e,p(o)),t&&t(n))}.bind(V)}var s=e.Backbone||require("backbone"),a=s.Cord,l=a.extendObj,u=a.isPlainObj,c=a.extendProto,f=a.ForceValue,h=a.convertToString,d=a.encodeValue,p=a.decodeValue,g=a.randomGUID,b=a.setImmediate,v=a.regex,y=e.preact||e.react||require("preact")||require("react"),m=y.Component,_=y.options,x=m.prototype.setState,V=null,w=null,O="data-binding-guid",A="data-binding-feedback",C=a.bind=function(e,t){if(V){var n=t||e;return V._boundKeys[n]||(V.observe(e,function(e,n){t&&this._boundGUIDProxies[t]?this._boundGUIDProxies[t].call(this,t,e,n):x.call(this,{})}),V._boundKeys[n]=!0),V.getValueForKey(e)}},E=a.computed=function(e){var t=a.getFunctionArgs(e);if(!t.length)return e;var n=function(n){var r,o=[],i={};for(n=n.split("@")[0],r=0;r<t.length;++r)o.push(this.getValueForKey(t[r]));i[n]=e.apply(this,o),this.setState(i)};return n._args=t,n._computed=!0,n};a.scopes["this"]={observe:function(){},unobserve:function(){},getValue:function(e){return this.state[e]},setValue:function(e,t){var n={};"object"==typeof t&&Object.getPrototypeOf(t)===f.prototype&&(t=t.value),n[e]=t,this.setState(n)}},a.Component=function(){m.apply(this,arguments),this._observers={},this._boundKeys={},this._boundGUIDs={},this._boundGUIDProxies={};var e=Object.getPrototypeOf(this);if(e.mixins&&!e._mixinsApplied){var t,r,o={};for(t=0;t<e.mixins.length;++t)r=a.mixins[e.mixins[t]],r._normalized||n(r),c(e,r.methods),l(o,r.state);e._mixinState=o,e._mixinsApplied=!0}var i=this.render;this.render=function(){var e,t=V;V=this;try{e=i.apply(this,arguments)}finally{V=t}return e};var s=this.componentWillMount;this.componentWillMount=function(){var e,t,n,r,o,i,a=this.state;this._mixinState&&l(a,this._mixinState);for(t in a)if(r=a[t],"function"==typeof r&&r._computed){n=r._args,o=V,V=this;try{for(e=0;e<n.length;++e)i=t+"@"+e,this._boundGUIDProxies[i]=r,C(n[e],i);r.call(this,t)}finally{V=o}}s&&s.apply(this,arguments)}},a.Component.prototype=Object.create(m.prototype),a.Component.prototype.constructor=a.Component,a.Component.prototype.setState=function(e,t){"function"==typeof e&&(e=e(this.state,this.props));for(var n in e)this._hasObservers("this",n)&&this._invokeObservers("this",n,e[n]);x.call(this,e,t)},l(a.Component.prototype,a.Binding,s.Events),delete a.Component.prototype.bind,delete a.Component.prototype.unbind;var j=_.beforeUnmount;_.beforeUnmount=function(e){e.stopObserving&&e.stopObserving(),e.stopListening&&e.stopListening(),j&&j.apply(this,arguments)};var F=_.vnode;_.vnode=function(e){var n,r,s,a,l,u,c=Array.isArray(e.children)?e.children:[e.children],f=e.attributes||{};if(!f.raw){for(n=c.length-1;n>=0;--n)if(s=c[n],"string"==typeof s&&(a=s.split(v.variableSearch),a.length>1)){for(u=[n,1],l=s.match(v.variableSearch),r=0;r<l.length;++r)a[r].length&&u.push(a[r]),u.push(h(C(v.variableValue.exec(l[r])[1])));a[r].length&&u.push(a[r]),Array.prototype.splice.apply(c,u)}e.children=c}if(f.bind&&(f.observe=f.bind,f.change=f.bind,delete f.bind),f.observe||f.change||f.input){var d=t(e.key||f.name,o);if(d){if(f[O]=d,f.observe){var p=C(f.observe,d);delete f.observe,b(o.bind(null,d,null,p)),f.observe!==f.change&&f.observe!==f.input||(f[A]=!0)}f.change&&(f.onChange=i(f.change,f.onChange||f.onchange),delete f.change),f.input&&(f.onInput=i(f.input,f.onInput||f.oninput),delete f.input)}else delete f.observe,delete f.change,delete f.input}F&&F.apply(this,arguments)},e.cordCompatibilityMode||(y.bind=C,y.computed=E,y.Component=m,y.Cord=a),"object"==typeof exports&&(module.exports=a)}("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global),function(e){"use strict";function t(){var e,t,n,o,i=this.changedAttributes(),s={};for(o in i)if(this._computedArgs[o])for(n=this._computedArgs[o],e=0;e<n.length;++e)t=n[e],s[t]||(s[t]=this.get(t),this.trigger("change:"+t,this,s[t],{}));r.setImmediate(function(){this.changed=s,this.trigger("change",this,{})}.bind(this),0)}function n(e,t){return function(){var n,r=[];for(n=0;n<t.length;++n)r.push(this.get(t[n]));return e.apply(this,r)}}var r=e.Cord,o=r.Model,i=r.getFunctionArgs;o.prototype._addComputed=function(e,r){var o,s,a,l=i(r);for(this._computed||(this._computed={},this._computedArgs={},o=this.get,this.get=function(e){var t=this._computed[e];return t?t.call(this):o.call(this,e)},this.listenTo(this,"change",t)),this._computed[e]=n(r,l),s=0;s<l.length;++s)a=l[s],this._computedArgs[a]||(this._computedArgs[a]=[]),this._computedArgs[a].push(e)};var s=o.extend;o.extend=function(e){var t;return e.computed&&(t=e.initialize||o.prototype.initialize,e.initialize=function(){if(this.computed)for(var e in this.computed)this._addComputed(e,this.computed[e]);return t.apply(this,arguments)}),s.apply(this,arguments)}}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";var t=e.Cord,n=t.mixObj,r=/(\(\?)?:\w+/g,o=/\*\w+/g,i=/\w+/g;t.Router=e.Router.extend({route:function(t,n,s){var a,l,u,c=t.split("/"),f=this.key,h={},d={};for(a=0;a<c.length;++a)u=c[a],u.length&&(l=u.match(r)||u.match(o),l?d[a]=l[0].substr(1):(l=u.match(i),l&&(h[f]=l[0],f="sub"+f)));return"function"==typeof n&&(s=n,n=""),e.Router.prototype.route.call(this,t,n,this.wrapCallback(n,s,h,d))},wrapCallback:function(e,r,o,i){return function(){var s,a={},l=t.UnmanagedScopes.route,u=Object.keys(l.attributes);for(s=0;s<u.length;++s)a[u[s]]=null;for(a.name=e||"",s=0;s<arguments.length;++s)null!==arguments[s]&&(a[i[s]]=arguments[s]);if(a=n(a,o),l.set(a),r)return r.apply(this,arguments)}}})}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e){this.listenTo(e,"request",function(){this.setValueForKey("syncProgress",new a(0)),this.setValueForKey("syncing",new a((!0))),this.setValueForKey("syncError",new a(null))}),this.listenTo(e,"sync",function(){this.setValueForKey("syncProgress",new a(1)),this.setValueForKey("syncing",new a((!1))),this.setValueForKey("syncError",new a(null))}),this.listenTo(e,"error",function(e,t,n){this.setValueForKey("syncProgress",new a(1)),this.setValueForKey("syncing",new a((!1))),this.setValueForKey("syncError",new a(o.parseError(t,n)))})}function n(e){e.lengthComputable&&this.setValueForKey("syncProgress",new a(e.loaded/e.total))}function r(r,o,i){this.__syncListening||(this.__syncListening=!0,t.call(this,this));var s=i.xhr||e.$.ajaxSettings&&e.$.ajaxSettings.xhr||function(){return new window.XMLHttpRequest},a=n.bind(this);i.xhr=function(){var e=s();return e.addEventListener("progress",a),e.upload.addEventListener("progress",a),e}}var o=e.Cord,i=o.Model,s=o.Collection,a=o.ForceValue;o.parseError=o.parseError||function(e){return e.status};var l=i.prototype.sync;i.prototype.sync=function(){return r.apply(this,arguments),l.apply(this,arguments)};var u=s.prototype.sync;s.prototype.sync=function(){return r.apply(this,arguments),u.apply(this,arguments)},o.mixins.syncing={properties:{syncing:{value:!1,readonly:!0},syncProgress:{value:0,readonly:!0},syncError:{value:null,readonly:!0}},_initSyncingProperties:function(e){e&&(this.setValueForKey("syncing",new a(e.syncing)),this.setValueForKey("syncProgress",new a(e.syncProgress)),this.setValueForKey("syncError",new a(e.syncError)),t.call(this,e))},setModel:function(e){this._initSyncingProperties(e)},setCollection:function(e){this._initSyncingProperties(e)}}}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";var t=e.Cord,n=t.Model,r=t.EmptyModel,o=t.ForceValue,i={url:/^(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i,ip:/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,slug:/^[a-z0-9-]+$/i,username:/^[a-z0-9_@\-\+\.]{3,150}$/i,color:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i};t.Validation={formats:i},t.scopes.errors={namespace:"errors",observe:function(){},unobserve:function(){},getValue:function(e){return this.errors.get(e)},setValue:function(){}},t.validate=function(e,t){var r,o,s,a=t.type.split(" ")[0];if(null===e||""===e&&"string"===t.type)return!t.required||"required";if("string"===a&&"string"!=typeof e||"date"===a&&!(e instanceof Date)||"int"===a&&(+e!==e||e%1!==0)||"float"===a&&"number"!=typeof e||"bool"===a&&"boolean"!=typeof e||"array"===a&&!Array.isArray(e)||"model"===a&&!(e instanceof n))return"type";if(null!==t.equals&&void 0!==t.equals){if(Array.isArray(t.equals)){if(t.equals.indexOf(e)===-1)return"equals"}else if("object"==typeof t.equals){if(void 0===t.equals[e])return"equals"}else if(e!==t.equals)return"equals"}else if("string"===t.type){if(t.min&&e.length<t.min)return"min";if(t.max&&e.length>t.max)return"max";if(t.format)for(s=Array.isArray(t.format)?t.format:[t.format],r=0;r<s.length;++r)if(o=s[r],"string"==typeof o&&(o=i[o]),"function"==typeof o&&!o(e)||o instanceof RegExp&&!o.test(e))return"format"}else{if(t.min&&e<t.min)return"min";if(t.max&&e>t.max)return"max"}return!0},t.parseValidationError=function(e,t,n,r){var o="string"===t.type?"The length of ":"",i="string"===t.type?" characters":"";switch(n){case"required":return r+" is required";case"min":return o+r+" must be greater than or equal to "+t.min+i;case"max":return o+r+" must be less than or equal to "+t.max+i;case"format":if("string"==typeof t.format)return r+" is not a valid "+t.format}return r+" is not valid"},t.mixins.validation={errors:r,properties:{allErrors:{readonly:!0},latestError:{readonly:!0},isValid:function(e){return!e||!e.length}},events:{"submit form":"validateForm"},initialize:function(){this.errors=new n,this.listenTo(this.errors,"change",function(e){var t,n=e.changedAttributes();if(n)for(t in n)this._invokeObservers("errors",t,n[t])}),this._addInvalidListener(this.model)},setModel:function(e){this._addInvalidListener(e)},validateForm:function(e){return this.model.isValid()?(this._onValid(this.model,[]),!0):(e&&(e.preventDefault(),e.stopPropagation()),!1)},_addInvalidListener:function(e){e!==r&&this.listenTo(e,"invalid",this._onInvalid)},_onInvalid:function(e,n){var r,i,s,a,l;for(r in n)a="format"===n[r]&&this.model.instructions&&this.model.instructions[r]?this.model.instructions[r]:t.parseValidationError(this.model.get(r),this.model.rules[r],n[r],this.model.titles[r]||"This field",r),this.errors.set(r,a);l=this.model.changedAttributes();for(r in l)n[r]||this.errors.unset(r);s=[],i=this.errors.attributes;for(r in i)s.push(i[r]);this.setValueForKey("allErrors",new o(s)),this.setValueForKey("latestError",new o(a))},_onValid:function(){this._onInvalid(this.model,{})}},t.mixins.validateOnBlur={initialize:function(){this._addBlurListener(this.model)},setModel:function(e){this._addBlurListener(e)},_addBlurListener:function(e){e!==r&&e.listen("change",function(){this.model.validate(this.model.changedAttributes())&&this._onValid(this.model,[])})}},n.prototype.validate=function(e){var n,r,o,i={};for(n in e)r=this.rules[n],r&&(null===r.equals&&void 0===r.equals&&(r.equals=this.choices&&this.choices[n]),o=t.validate(e[n],r),o!==!0&&(i[n]=o));if(this.extendedValidate&&this.extendedValidate(i),Object.keys(i).length)return i}}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone")),function(e){"use strict";function t(e,t){var n=function(t){var n,r=t.changedAttributes();if(r)for(n in r)this._invokeObservers(e,n,r[n])};return{namespace:e,model:t,observe:function(){this._hasObservers(e)||this.listenTo(t,"change",n)},unobserve:function(){this._hasObservers(e)||this.stopListening(t,"change",n)},getValue:function(e){return t.get(e)},setValue:function(e,n){t.set(e,n)}}}var n=e.Cord,r=e.Model,o=n.scopes;n.SharedScopes={set:function(e,n){if(e=e.toLowerCase(),o[e])throw new Error("Attempting to override an existing scope.");o[e]=t(e,n),this[e]=n}},n.SharedScopes.set("shared",new r),n.SharedScopes.set("route",new r)}(("object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global).Backbone||require("backbone"));